

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. Monitoring beach litter with future engineers &#8212; Progress towards a goal</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'summary_2015_2021';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Estimating values" href="ptog.html" />
    <link rel="prev" title="Trash: Here and Now" href="titlepage.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="titlepage.html">
  
  
  
  
  
    <p class="title logo__title">Progress towards a goal</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Monitoring beach litter with future engineers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ptog.html">2. Estimating values</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/hammerdirt-analyst/swe" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/hammerdirt-analyst/swe/issues/new?title=Issue%20on%20page%20%2Fsummary_2015_2021.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Monitoring beach litter with future engineers</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variation-in-trash-over-time">1.1. Variation in trash over time</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#year-over-year-summary-statistics">1.1.1. Year over year summary statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#survey-total-summary">1.1.2. Survey total summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#year-over-year-cumulative-distribution">1.1.3. Year over year cumulative distribution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-between-the-survey-groups">1.1.4. Comparison between the survey groups</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-over-time">1.2. Composition over time</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-over-time-saint-sulpice">1.2.1. Composition over time Saint Sulpice</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#site-specific-results">1.3. Site specific results</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saint-sulpice">1.3.1. Saint Sulpice:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parc-des-pierettes">1.3.2. Parc des Pierettes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#material-totals">1.3.2.1. Material totals</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="monitoring-beach-litter-with-future-engineers">
<h1><span class="section-number">1. </span>Monitoring beach litter with future engineers<a class="headerlink" href="#monitoring-beach-litter-with-future-engineers" title="Permalink to this headline">#</a></h1>
<p>The MSFD protocol <a href="#id1"><span class="problematic" id="id2">mlwguidance</span></a> has been used on Lake Geneva since November 2015. LProtocol based monitoring of beach litter statStart date each year: Nov 15,
End date each year: Nov 14,</p>
<p>includes years: 2015, 2016, 2017, 2018, 2019, 2020, 2021</p>
<p>The data for this analysis is the results from beach-litter surveys conducted in Switzerland, on the shores of Lac Léman.</p>
<p>The data was collected according to the protocol described here <a class="reference external" href="https://www.plagespropres.ch/">https://www.plagespropres.ch/</a>. In brief all visible data is collected along a beach within a measured distance from the waters edge. The width of the survey area depends on the terrain and the water level. The visible strand line or the nearest physical structure defines the width of a survey.</p>
<p>Surveys were conducted by the following organizations:</p>
<ol class="arabic simple">
<li><p>hammerdirt</p></li>
<li><p>Association pour le Sauvegarde du leman</p></li>
<li><p>Solid Waste Management Ecole Polytechnique Federal</p></li>
<li><p>Ecole International de Geneve</p></li>
<li><p>Precious plastic leman</p></li>
</ol>
<p>This analysis is an open source document. The working notebook is available in the repository located here <a class="github reference external" href="https://github.com/hammerdirt-analyst/patelmanuscript">hammerdirt-analyst/patelmanuscript</a>.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sys, file and nav packages:</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>


<span class="c1"># math packages:</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span> 
<span class="kn">from</span> <span class="nn">statsmodels.distributions.empirical_distribution</span> <span class="kn">import</span> <span class="n">ECDF</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">percentileofscore</span>


<span class="c1"># charting:</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="k">as</span> <span class="nn">gridspec</span>


<span class="c1"># home brew utitilties</span>
<span class="kn">import</span> <span class="nn">resources.sr_ut</span> <span class="k">as</span> <span class="nn">sut</span>
<span class="c1"># import resources.chart_kwargs as ck</span>

<span class="c1"># documenting</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>


<span class="c1"># all the data</span>
<span class="n">survey_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/all_data_agg_foams_frags.csv&quot;</span><span class="p">)</span>
<span class="c1"># this is a duplicate entry</span>
<span class="n">survey_data</span> <span class="o">=</span> <span class="n">survey_data</span><span class="p">[</span><span class="n">survey_data</span><span class="o">.</span><span class="n">location</span> <span class="o">!=</span> <span class="s2">&quot;lac-leman-hammerdirt&quot;</span><span class="p">]</span>

<span class="n">survey_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">survey_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="n">dfCodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/codes_with_group_names_2015.csv&quot;</span><span class="p">)</span>
<span class="n">dfBeaches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/beaches_with_land_use_rates.csv&quot;</span><span class="p">)</span>

<span class="c1"># map to code decriptions</span>
<span class="n">dfCodes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">code_d</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>

<span class="c1"># map to material descriptions</span>
<span class="n">mat_d</span> <span class="o">=</span> <span class="n">dfCodes</span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span>

<span class="c1"># leman and st sulpice data</span>
<span class="n">coi</span> <span class="o">=</span> <span class="s2">&quot;Saint-Sulpice (VD)&quot;</span>

<span class="n">fd</span> <span class="o">=</span> <span class="n">survey_data</span><span class="p">[</span><span class="n">survey_data</span><span class="o">.</span><span class="n">water_name_slug</span> <span class="o">==</span> <span class="s2">&quot;lac-leman&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># the teams and the beaches they werre responsible for in each year</span>
<span class="n">t_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SWE&quot;</span><span class="p">,</span> <span class="s2">&quot;PC&quot;</span><span class="p">,</span> <span class="s2">&quot;EINT&quot;</span><span class="p">,</span> <span class="s2">&quot;ASL&quot;</span><span class="p">,</span> <span class="s2">&quot;SLR&quot;</span><span class="p">,</span> <span class="s2">&quot;HD&quot;</span><span class="p">]</span>

<span class="n">teams_y1_4</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;SWE&quot;</span><span class="p">:[</span><span class="s2">&quot;tiger-duck-beach&quot;</span><span class="p">,</span> <span class="s2">&quot;saint-sulpice&quot;</span><span class="p">,</span> <span class="s2">&quot;rolle-plage&quot;</span><span class="p">,</span> <span class="s2">&quot;plage-de-st-sulpice&quot;</span><span class="p">,</span><span class="s2">&quot;parc-des-pierrettes&quot;</span><span class="p">],</span>
    <span class="s2">&quot;PC&quot;</span><span class="p">:[</span><span class="s2">&quot;preverenges&quot;</span><span class="p">],</span>
    <span class="s2">&quot;EINT&quot;</span><span class="p">:[</span><span class="s2">&quot;versoix&quot;</span><span class="p">,],</span>
    <span class="s2">&quot;ASL&quot;</span><span class="p">:[</span><span class="s2">&quot;baby-plage-geneva&quot;</span><span class="p">],</span>
    <span class="s2">&quot;SLR&quot;</span><span class="p">:[</span><span class="s2">&quot;lacleman_vidy_santie&quot;</span><span class="p">,</span> <span class="s2">&quot;lacleman_gland_lecoanets&quot;</span><span class="p">,</span> <span class="s2">&quot;lacleman_gland_kubela&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">teams_y5_6</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;SWE&quot;</span><span class="p">:[</span><span class="s2">&quot;tiger-duck-beach&quot;</span><span class="p">,</span> <span class="s2">&quot;saint-sulpice&quot;</span><span class="p">,</span> <span class="s2">&quot;rolle-plage&quot;</span><span class="p">,</span> <span class="s2">&quot;plage-de-st-sulpice&quot;</span><span class="p">,</span><span class="s2">&quot;parc-des-pierrettes&quot;</span><span class="p">],</span>
    <span class="s2">&quot;PC&quot;</span><span class="p">:[</span><span class="s2">&quot;preverenges&quot;</span><span class="p">,</span> <span class="s2">&quot;maladaire&quot;</span><span class="p">,</span> <span class="s2">&quot;vidy-ruines&quot;</span><span class="p">],</span>
    <span class="s2">&quot;EINT&quot;</span><span class="p">:[</span><span class="s2">&quot;baby-plage-ii-geneve&quot;</span><span class="p">,</span><span class="s2">&quot;rocky-plage&quot;</span><span class="p">],</span>
    <span class="s2">&quot;ASL&quot;</span><span class="p">:[</span><span class="s2">&quot;baby-plage-geneva&quot;</span><span class="p">],</span>
    <span class="s2">&quot;SLR&quot;</span><span class="p">:[]</span>
<span class="p">}</span>

<span class="c1"># hammerdirt was responsible for the surveys collected at the remaining locations</span>
<span class="n">n_hd_y_1_4</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">4</span><span class="p">]]]</span>
<span class="n">n_hd_y_5_6</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">3</span><span class="p">]],</span> <span class="o">*</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">t_names</span><span class="p">[</span><span class="mi">4</span><span class="p">]]]</span>

<span class="n">hd_y_1_4</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">n_hd_y_1_4</span><span class="p">]</span>
<span class="n">hd_y_5_5</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">n_hd_y_5_6</span><span class="p">]</span>

<span class="n">teams_y1_4</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;HD&quot;</span><span class="p">:</span><span class="n">hd_y_1_4</span><span class="p">})</span>
<span class="n">teams_y5_6</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;HD&quot;</span><span class="p">:</span><span class="n">hd_y_5_5</span><span class="p">})</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set some parameters:</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2015-11-15&quot;</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="s2">&quot;2021-11-14&quot;</span>

<span class="n">year_one</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2015-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2016-11-14&quot;</span><span class="p">}</span>
<span class="n">year_two</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2016-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2017-11-14&quot;</span><span class="p">}</span>
<span class="n">year_three</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2017-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-14&quot;</span><span class="p">}</span>
<span class="n">year_four</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2019-11-14&quot;</span><span class="p">}</span>
<span class="n">year_five</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2019-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-11-14&quot;</span><span class="p">}</span>
<span class="n">year_six</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="s2">&quot;2021-11-14&quot;</span><span class="p">}</span>

<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="n">year_one</span><span class="p">,</span> <span class="n">year_two</span><span class="p">,</span> <span class="n">year_three</span><span class="p">,</span> <span class="n">year_four</span><span class="p">,</span> <span class="n">year_five</span><span class="p">,</span> <span class="n">year_six</span><span class="p">]</span>
<span class="n">year_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="s2">&quot;y3&quot;</span><span class="p">,</span> <span class="s2">&quot;y4&quot;</span><span class="p">,</span> <span class="s2">&quot;y5&quot;</span><span class="p">,</span> <span class="s2">&quot;y6&quot;</span><span class="p">]</span>

<span class="n">fd</span><span class="p">[</span><span class="s2">&quot;yx&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="c1"># make a column that has a value of year_names</span>
<span class="k">def</span> <span class="nf">assign_a_survey_period</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">start_end</span><span class="p">,</span> <span class="n">locs</span><span class="o">=</span><span class="p">[],</span> <span class="n">year_name</span><span class="o">=</span><span class="s2">&quot;y1&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Slices the data by the start_end date and the locations in locs&quot;&quot;&quot;</span>
    
    <span class="n">these_args</span> <span class="o">=</span> <span class="p">((</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">start_end</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">start_end</span><span class="p">[</span><span class="s2">&quot;end_date&quot;</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">locs</span><span class="p">)))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">these_args</span><span class="p">,</span> <span class="s2">&quot;yx&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">year_name</span>   

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">year_names</span><span class="p">):</span>
    <span class="n">assign_a_survey_period</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">years</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">locs</span><span class="o">=</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">year_name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>    
    
<span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">teams_y1_4</span><span class="p">:</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">loc</span><span class="p">[((</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">teams_y1_4</span><span class="p">[</span><span class="n">team</span><span class="p">]))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="s2">&quot;2019-11-14&quot;</span><span class="p">)),</span> <span class="s2">&quot;team&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">team</span>

<span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">teams_y5_6</span><span class="p">:</span>
    <span class="n">fd</span><span class="o">.</span><span class="n">loc</span><span class="p">[((</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">teams_y5_6</span><span class="p">[</span><span class="n">team</span><span class="p">]))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s2">&quot;2019-11-14&quot;</span><span class="p">)),</span> <span class="s2">&quot;team&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">team</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>samples per team per year</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="s2">&quot;team&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>
<span class="n">asamps</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;loc_date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">asamps</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">asamps</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">asamps</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>team</th>
      <th>ASL</th>
      <th>EINT</th>
      <th>HD</th>
      <th>PC</th>
      <th>SLR</th>
      <th>SWE</th>
      <th>total</th>
    </tr>
    <tr>
      <th>yx</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>y1</th>
      <td>0</td>
      <td>0</td>
      <td>80</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>82</td>
    </tr>
    <tr>
      <th>y2</th>
      <td>0</td>
      <td>1</td>
      <td>20</td>
      <td>0</td>
      <td>17</td>
      <td>2</td>
      <td>40</td>
    </tr>
    <tr>
      <th>y3</th>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>2</td>
      <td>15</td>
      <td>2</td>
      <td>24</td>
    </tr>
    <tr>
      <th>y4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>y5</th>
      <td>5</td>
      <td>2</td>
      <td>31</td>
      <td>16</td>
      <td>0</td>
      <td>4</td>
      <td>58</td>
    </tr>
    <tr>
      <th>y6</th>
      <td>6</td>
      <td>1</td>
      <td>18</td>
      <td>16</td>
      <td>0</td>
      <td>3</td>
      <td>44</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>pieces per team per year</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aqty</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span>
<span class="n">aqty</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span>  <span class="n">aqty</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">aqty</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>team</th>
      <th>ASL</th>
      <th>EINT</th>
      <th>HD</th>
      <th>PC</th>
      <th>SLR</th>
      <th>SWE</th>
      <th>total</th>
    </tr>
    <tr>
      <th>yx</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>y1</th>
      <td>0</td>
      <td>0</td>
      <td>28007</td>
      <td>0</td>
      <td>0</td>
      <td>2721</td>
      <td>30728</td>
    </tr>
    <tr>
      <th>y2</th>
      <td>0</td>
      <td>1490</td>
      <td>9136</td>
      <td>0</td>
      <td>2526</td>
      <td>1006</td>
      <td>14158</td>
    </tr>
    <tr>
      <th>y3</th>
      <td>0</td>
      <td>0</td>
      <td>1785</td>
      <td>203</td>
      <td>1591</td>
      <td>1534</td>
      <td>5113</td>
    </tr>
    <tr>
      <th>y4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>306</td>
      <td>306</td>
    </tr>
    <tr>
      <th>y5</th>
      <td>2719</td>
      <td>167</td>
      <td>9522</td>
      <td>4701</td>
      <td>0</td>
      <td>1536</td>
      <td>18645</td>
    </tr>
    <tr>
      <th>y6</th>
      <td>556</td>
      <td>20</td>
      <td>5735</td>
      <td>2409</td>
      <td>0</td>
      <td>1766</td>
      <td>10486</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>median pieces per sample per team</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="s2">&quot;qs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">a</span><span class="p">[</span><span class="s2">&quot;loc_date&quot;</span><span class="p">]</span>
<span class="n">aqs</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">qs</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">aqs</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>team
ASL     318.233333
EINT     83.500000
HD      350.087500
PC      150.562500
SLR     127.327451
SWE     545.833333
Name: qs, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="section" id="variation-in-trash-over-time">
<h2><span class="section-number">1.1. </span>Variation in trash over time<a class="headerlink" href="#variation-in-trash-over-time" title="Permalink to this headline">#</a></h2>
<p>The median survey value at the end of year 6 is less than all previous years, this corresponds to the results from the national survey that was terminated in May 2021. However, the 25th percentile from year one is less than the median from year six. This suggests that at least 50% of the samples from year six would have been below the 25th percentile of the first year. Given these results it is possible that there were reductions at specific locations, because 50% of the samples in year six fall below the IQR of year one.</p>
<div class="section" id="year-over-year-summary-statistics">
<h3><span class="section-number">1.1.1. </span>Year over year summary statistics<a class="headerlink" href="#year-over-year-summary-statistics" title="Permalink to this headline">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_l</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;team&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="p">})</span>
<span class="n">a_l_summary</span> <span class="o">=</span> <span class="n">a_l</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yx&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">,</span> <span class="s2">&quot;pcs_m&quot;</span><span class="p">:[</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">],</span> <span class="s2">&quot;location&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>
<span class="n">a_l_summary</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;samples&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span><span class="s2">&quot;var&quot;</span><span class="p">,</span> <span class="s2">&quot;locations&quot;</span><span class="p">,</span> <span class="s2">&quot;pieces&quot;</span><span class="p">]</span>
<span class="n">a_l_summary</span><span class="p">[</span><span class="s2">&quot;dispersion&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_l_summary</span><span class="p">[</span><span class="s2">&quot;var&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">a_l_summary</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span>
<span class="n">a_l_summary</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>samples</th>
      <th>median</th>
      <th>mean</th>
      <th>var</th>
      <th>locations</th>
      <th>pieces</th>
      <th>dispersion</th>
    </tr>
    <tr>
      <th>yx</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>y1</th>
      <td>82</td>
      <td>4.86</td>
      <td>8.77</td>
      <td>98.63</td>
      <td>18</td>
      <td>30728</td>
      <td>11.24</td>
    </tr>
    <tr>
      <th>y2</th>
      <td>40</td>
      <td>6.84</td>
      <td>9.70</td>
      <td>66.64</td>
      <td>17</td>
      <td>14158</td>
      <td>6.87</td>
    </tr>
    <tr>
      <th>y3</th>
      <td>24</td>
      <td>4.24</td>
      <td>8.97</td>
      <td>260.65</td>
      <td>10</td>
      <td>5113</td>
      <td>29.06</td>
    </tr>
    <tr>
      <th>y4</th>
      <td>2</td>
      <td>7.53</td>
      <td>7.53</td>
      <td>9.86</td>
      <td>2</td>
      <td>306</td>
      <td>1.31</td>
    </tr>
    <tr>
      <th>y5</th>
      <td>58</td>
      <td>5.70</td>
      <td>9.69</td>
      <td>147.84</td>
      <td>20</td>
      <td>18645</td>
      <td>15.25</td>
    </tr>
    <tr>
      <th>y6</th>
      <td>44</td>
      <td>4.00</td>
      <td>7.41</td>
      <td>110.46</td>
      <td>16</td>
      <td>10486</td>
      <td>14.90</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The dispersion (variance/mean) is greater than one for all years, prohibiting the use of a Poisson distribution but supporting the EUs decision to model outliers based on the Negative Binomial distribution<a href="#id3"><span class="problematic" id="id4">eubaseleines</span></a>.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="s2">&quot;y6&quot;</span><span class="p">])]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;yx&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>
<span class="n">iq</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="s2">&quot;y1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">iq</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">iq</span><span class="p">,</span> <span class="mi">75</span><span class="p">)],</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">iq</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">iq</span><span class="p">,</span> <span class="mi">75</span><span class="p">)],</span> <span class="n">y1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;IQR year one&quot;</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span><span class="n">l</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">hs</span> <span class="o">=</span> <span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">nl</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y-one&quot;</span><span class="p">,</span> <span class="s2">&quot;y-six&quot;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">nl</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Number of samples&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Pieces per meter&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/e9d0b2e6a950d81907df0003d1a078de9a9f304860302661405982a3d1b75373.png" src="_images/e9d0b2e6a950d81907df0003d1a078de9a9f304860302661405982a3d1b75373.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Number of samples&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Pieces per meter&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/c9d15450d2101e1a3d158b148e77890e7ca776bbe3732cd4e26d4677079534ae.png" src="_images/c9d15450d2101e1a3d158b148e77890e7ca776bbe3732cd4e26d4677079534ae.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">a_locdate</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;team&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="p">})</span>
<span class="n">a_locdate</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">a_locdate</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="n">ylimit</span><span class="o">=</span><span class="mi">60</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_locdate</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">days</span> <span class="o">=</span> <span class="n">mdates</span><span class="o">.</span><span class="n">DayLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;major&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Pieces per meter&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/7ab312213dc4ecc9e35464412911dc3021e1b6a5f5795273018fb4f528d5c0b6.png" src="_images/7ab312213dc4ecc9e35464412911dc3021e1b6a5f5795273018fb4f528d5c0b6.png" />
</div>
</div>
</div>
<div class="section" id="survey-total-summary">
<h3><span class="section-number">1.1.2. </span>Survey total summary<a class="headerlink" href="#survey-total-summary" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_locdate</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    250.000000
mean       8.904040
std       10.964358
min        0.100000
25%        2.690000
50%        5.375000
75%       10.077500
max       77.100000
Name: pcs_m, dtype: float64
</pre></div>
</div>
</div>
</div>
<p><strong>Below</strong> The year over year survey results for Lac Léman. There are surveys in each year since 2015</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_locdate</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;team&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="p">})</span>
<span class="n">a_locdate</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">a_locdate</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="n">PROPS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;boxprops&#39;</span><span class="p">:{</span><span class="s1">&#39;facecolor&#39;</span><span class="p">:</span><span class="s1">&#39;none&#39;</span><span class="p">},</span>   
<span class="p">}</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_locdate</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">PROPS</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">year_names</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_locdate</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.6</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">year_names</span><span class="p">)</span>
<span class="n">ylimit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">a_locdate</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="mf">.99</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ylimit</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/70901cfbbd832c907f45ee4e39a943a60a241b32df550420cce33ba459ee0ae1.png" src="_images/70901cfbbd832c907f45ee4e39a943a60a241b32df550420cce33ba459ee0ae1.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axis_limits</span> <span class="o">=</span> <span class="n">ylimit</span>
<span class="n">statement</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Values greater than </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">ylimit</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> pcs/m not shown, the 99th percentile.&quot;</span>
<span class="n">md</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<p>Values greater than 51.42 pcs/m not shown, the 99th percentile.</p>
</div>
</div>
</div>
<div class="section" id="year-over-year-cumulative-distribution">
<h3><span class="section-number">1.1.3. </span>Year over year cumulative distribution<a class="headerlink" href="#year-over-year-cumulative-distribution" title="Permalink to this headline">#</a></h3>
<p>Considering sample years with more than two observations. The highest median was in year 2 and the highest mean was recorded in years 2 and 5  but the maximum value was recorded in year 3 by SWE students at tiger-duck-beach. The dispersion is lowest in year two. The third year has the lowest number of samples and locations but the highest dispersion.  Three locations are responsible for 68% of all samples in year three. The median survey value of these three locations ranges from 0.29 to 6.5, the maximum survey value in year three was 77pcs/m. Differences of this magnitude are regular occurrences, the high variance of beach litter surveys was noted when the EU published guidelines on determining baseline values and thresholds. <a href="#id5"><span class="problematic" id="id6">eubaselines</span></a></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecdfs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ECDF</span><span class="p">(</span><span class="n">a_locdate</span><span class="p">[</span><span class="n">a_locdate</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">year_names</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ylimit</span><span class="p">)</span>


<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">year_names</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">somdata</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
        <span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.5</span><span class="p">)</span>
        <span class="n">lower25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.25</span><span class="p">)</span>
        <span class="n">upper25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.75</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">([</span><span class="n">lower25</span><span class="p">,</span> <span class="n">upper25</span><span class="p">],</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">lower25</span><span class="p">,</span> <span class="n">upper25</span><span class="p">],</span> <span class="n">y1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;50</span><span class="si">% o</span><span class="s2">f year one samples&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">median</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dashdot&quot;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        
        
    <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;ratio of samples&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">n_handles</span> <span class="o">=</span> <span class="p">[</span><span class="n">handles</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">*</span><span class="n">handles</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">n_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">labels</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">*</span><span class="n">labels</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>    
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">n_handles</span><span class="p">,</span> <span class="n">n_labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Year one IQR = </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">lower25</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">upper25</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/d43edc7308c1eeec916602c486f804adb2b596c1e4e640af57a17fdd9493232b.png" src="_images/d43edc7308c1eeec916602c486f804adb2b596c1e4e640af57a17fdd9493232b.png" />
</div>
</div>
</div>
<div class="section" id="comparison-between-the-survey-groups">
<h3><span class="section-number">1.1.4. </span>Comparison between the survey groups<a class="headerlink" href="#comparison-between-the-survey-groups" title="Permalink to this headline">#</a></h3>
<p>The innerquartile range from y-one accounts for 50% of the survey results from SLR and 59% of the results from PC. The 25^th percentile is much lower in both cases (Fig. 5). The groups also represent regional clusters. The year one surveys were primarily from the Haut Lac, SLR surveys are primarily in the Grand Lac and PC surveys are between the Grand Lac and the Haut Lac. The variance between years and groups has a part that can be attributed to location.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecdfs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ECDF</span><span class="p">(</span><span class="n">a_locdate</span><span class="p">[</span><span class="n">a_locdate</span><span class="o">.</span><span class="n">team</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;SLR&quot;</span><span class="p">,</span> <span class="s2">&quot;PC&quot;</span><span class="p">]]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="s2">&quot;saddlebrown&quot;</span><span class="p">]</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ylimit</span><span class="p">)</span>

<span class="n">iqrs_by_group</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;SLR&quot;</span><span class="p">,</span> <span class="s2">&quot;PC&quot;</span><span class="p">]):</span>
    <span class="n">somdata</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
    <span class="n">ecdfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">somdata</span><span class="p">)</span>
    <span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.5</span><span class="p">)</span>
    <span class="n">lower25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.25</span><span class="p">)</span>
    <span class="n">upper25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.75</span><span class="p">)</span>
    <span class="n">iqrs_by_group</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">name</span><span class="p">:[</span><span class="n">lower25</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">upper25</span><span class="p">]})</span>
    
    
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">lower25</span><span class="p">,</span> <span class="n">upper25</span><span class="p">],</span> <span class="n">y1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;IQR </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
<span class="n">combined</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">([</span><span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">])</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">combined</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">combined</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Combined surveys&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;ratio of samples&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">n_handles</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">handles</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:],</span> <span class="o">*</span><span class="n">handles</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]]</span> <span class="c1"># handles</span>
<span class="n">n_labels</span> <span class="o">=</span>  <span class="p">[</span><span class="o">*</span><span class="n">labels</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:],</span> <span class="o">*</span><span class="n">labels</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]]</span> <span class="c1"># labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">n_handles</span><span class="p">,</span> <span class="n">n_labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/05c2d69681883086f01c815819540cbafb1052ff35a933ed70700fb94f62cf3a.png" src="_images/05c2d69681883086f01c815819540cbafb1052ff35a933ed70700fb94f62cf3a.png" />
</div>
</div>
<p><strong>The number of locations below the 25th and above the 75th percentile</strong></p>
<p>Consider the results from year one as a base year and recall that HD was responsible for 80 of the 82 surveys. SLR has 12 samples below the IQR from year one and 5 above the IQR. 50% of SLR surveys fall within the IQR of year one. PC had 15 below the IQR and seven above or 59% of all PC surveys fall within the IQR of year one.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slr</span> <span class="o">=</span> <span class="n">ecdfs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
<span class="n">slr_less</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">slr</span><span class="p">[</span><span class="n">slr</span> <span class="o">&lt;</span> <span class="mf">3.265</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">slr</span><span class="p">[</span><span class="n">slr</span> <span class="o">&lt;</span><span class="mf">3.265</span><span class="p">]))</span>
<span class="n">slr_more</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">slr</span><span class="p">[</span><span class="n">slr</span> <span class="o">&gt;</span> <span class="mf">11.3225</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">slr</span><span class="p">[</span><span class="n">slr</span> <span class="o">&gt;</span> <span class="mf">3.265</span><span class="p">]))</span>


<span class="n">a_l</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>
<span class="n">a_l</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;team&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;nunique&quot;</span><span class="p">,</span> <span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">})</span>
<span class="n">a_l</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;loc_date&quot;</span><span class="p">:</span><span class="s2">&quot;samples&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">pc</span> <span class="o">=</span> <span class="n">ecdfs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
<span class="n">pcl</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pc</span><span class="p">[</span><span class="n">pc</span><span class="o">&lt;</span><span class="mf">3.265</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">pc</span><span class="p">[</span><span class="n">pc</span> <span class="o">&lt;</span> <span class="mf">3.265</span><span class="p">]))</span>
<span class="n">pcm</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pc</span><span class="p">[</span><span class="n">pc</span> <span class="o">&gt;</span> <span class="mf">11.3225</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="n">pc</span><span class="p">[</span><span class="n">pc</span> <span class="o">&gt;</span> <span class="mf">11.3265</span><span class="p">]))</span>
<span class="c1"># print(pcl)</span>
<span class="c1"># print(pcm)</span>
<span class="c1"># print(1-14/34)</span>
</pre></div>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="section" id="composition-over-time">
<h2><span class="section-number">1.2. </span>Composition over time<a class="headerlink" href="#composition-over-time" title="Permalink to this headline">#</a></h2>
<p>Year over percent of total of the top ten codes on Lake Geneva</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># definition of Gfoams</span>
<span class="n">some_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G81&#39;</span><span class="p">,</span> <span class="s1">&#39;G82&#39;</span><span class="p">,</span> <span class="s1">&#39;G83&#39;</span><span class="p">,</span> <span class="s1">&#39;G911&#39;</span><span class="p">,</span> <span class="s1">&#39;G912&#39;</span><span class="p">]</span>
<span class="n">yellow_foams</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G74&#39;</span><span class="p">,</span> <span class="s1">&#39;G909&#39;</span><span class="p">,</span> <span class="s1">&#39;G910&#39;</span><span class="p">]</span>

<span class="c1">#definition of Gfrags</span>


<span class="n">ten_yoy</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">yx_totals</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yx&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">lake_code_totals</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">lake_top_ten</span> <span class="o">=</span> <span class="n">lake_code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="k">for</span> <span class="n">a_year</span> <span class="ow">in</span> <span class="n">ten_yoy</span><span class="o">.</span><span class="n">yx</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">ten_yoy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ten_yoy</span><span class="o">.</span><span class="n">yx</span><span class="o">==</span><span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">ten_yoy</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">yx_totals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_year</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
<span class="n">p_total_yoy</span> <span class="o">=</span> <span class="n">ten_yoy</span><span class="p">[</span><span class="n">ten_yoy</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lake_top_ten</span><span class="p">)]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">p_total_yoy</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">stackplot</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">chart</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">chart</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ls</span><span class="o">=</span><span class="p">[</span><span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">h</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ls</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">.05</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Year over year percent of total of the top ten codes on Lake Geneva&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/b14d1268b7a3f02b31ad686a5bc85cf2ef99e628792500b55265d628163ed09f.png" src="_images/b14d1268b7a3f02b31ad686a5bc85cf2ef99e628792500b55265d628163ed09f.png" />
</div>
</div>
<p>Table of values year over year percent of total of the top ten codes on Lake Geneva</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">chart</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>yx</th>
      <th>y1</th>
      <th>y2</th>
      <th>y3</th>
      <th>y4</th>
      <th>y5</th>
      <th>y6</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Gfoam</th>
      <td>20.5</td>
      <td>7.5</td>
      <td>6.6</td>
      <td>27.5</td>
      <td>12.4</td>
      <td>12.2</td>
    </tr>
    <tr>
      <th>G27</th>
      <td>20.0</td>
      <td>28.3</td>
      <td>11.3</td>
      <td>7.5</td>
      <td>12.8</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Gfrags</th>
      <td>13.0</td>
      <td>7.5</td>
      <td>21.4</td>
      <td>21.2</td>
      <td>15.7</td>
      <td>17.6</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>6.2</td>
      <td>7.7</td>
      <td>9.9</td>
      <td>4.9</td>
      <td>5.7</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>4.9</td>
      <td>8.3</td>
      <td>7.1</td>
      <td>0.7</td>
      <td>4.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>4.1</td>
      <td>5.0</td>
      <td>3.4</td>
      <td>4.6</td>
      <td>3.4</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>4.0</td>
      <td>3.7</td>
      <td>3.5</td>
      <td>0.0</td>
      <td>1.4</td>
      <td>3.7</td>
    </tr>
    <tr>
      <th>G21</th>
      <td>2.0</td>
      <td>1.9</td>
      <td>1.6</td>
      <td>0.3</td>
      <td>1.3</td>
      <td>1.9</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>1.7</td>
      <td>1.7</td>
      <td>3.6</td>
      <td>3.9</td>
      <td>2.0</td>
      <td>2.3</td>
    </tr>
    <tr>
      <th>G112</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.9</td>
      <td>3.3</td>
    </tr>
    <tr>
      <th>total</th>
      <td>76.4</td>
      <td>71.6</td>
      <td>68.4</td>
      <td>70.6</td>
      <td>64.6</td>
      <td>64.8</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Year over year qauntity of the top ten objects Lake Geneva.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p_total_yoy</span> <span class="o">=</span> <span class="n">ten_yoy</span><span class="p">[</span><span class="n">ten_yoy</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lake_top_ten</span><span class="p">)]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">)</span>
<span class="n">p_yoy</span> <span class="o">=</span> <span class="n">p_total_yoy</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">p_yoy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_yoy</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">p_yoy</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>yx</th>
      <th>y1</th>
      <th>y2</th>
      <th>y3</th>
      <th>y4</th>
      <th>y5</th>
      <th>y6</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Gfoam</th>
      <td>6298</td>
      <td>1067</td>
      <td>339</td>
      <td>84</td>
      <td>2317</td>
      <td>1280</td>
    </tr>
    <tr>
      <th>G27</th>
      <td>6152</td>
      <td>4006</td>
      <td>578</td>
      <td>23</td>
      <td>2390</td>
      <td>836</td>
    </tr>
    <tr>
      <th>Gfrags</th>
      <td>3985</td>
      <td>1066</td>
      <td>1092</td>
      <td>65</td>
      <td>2920</td>
      <td>1841</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>1913</td>
      <td>1097</td>
      <td>508</td>
      <td>15</td>
      <td>1068</td>
      <td>717</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>1498</td>
      <td>1171</td>
      <td>362</td>
      <td>2</td>
      <td>754</td>
      <td>424</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>1246</td>
      <td>710</td>
      <td>174</td>
      <td>14</td>
      <td>630</td>
      <td>522</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>1234</td>
      <td>529</td>
      <td>179</td>
      <td>0</td>
      <td>261</td>
      <td>383</td>
    </tr>
    <tr>
      <th>G21</th>
      <td>602</td>
      <td>275</td>
      <td>81</td>
      <td>1</td>
      <td>241</td>
      <td>194</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>524</td>
      <td>245</td>
      <td>186</td>
      <td>12</td>
      <td>366</td>
      <td>246</td>
    </tr>
    <tr>
      <th>G112</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1091</td>
      <td>341</td>
    </tr>
    <tr>
      <th>total</th>
      <td>23452</td>
      <td>10166</td>
      <td>3499</td>
      <td>216</td>
      <td>12038</td>
      <td>6784</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="composition-over-time-saint-sulpice">
<h3><span class="section-number">1.2.1. </span>Composition over time Saint Sulpice<a class="headerlink" href="#composition-over-time-saint-sulpice" title="Permalink to this headline">#</a></h3>
<p>The top ten from all samples in Saint-Sulpice year over year.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp_beaches</span> <span class="o">=</span> <span class="n">dfBeaches</span><span class="p">[</span><span class="n">dfBeaches</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s2">&quot;Saint-Sulpice (VD)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">values</span>
<span class="n">swe_cts</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sp_beaches</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">swe_ten_yoy</span> <span class="o">=</span> <span class="n">swe_cts</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span><span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">swe_yx_totals</span> <span class="o">=</span> <span class="n">swe_cts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yx&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">swe_code_totals</span> <span class="o">=</span> <span class="n">swe_cts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">swe_top_ten</span> <span class="o">=</span> <span class="n">swe_code_totals</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="k">for</span> <span class="n">a_year</span> <span class="ow">in</span> <span class="n">swe_ten_yoy</span><span class="o">.</span><span class="n">yx</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">swe_ten_yoy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">swe_ten_yoy</span><span class="o">.</span><span class="n">yx</span><span class="o">==</span><span class="n">a_year</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">swe_ten_yoy</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">swe_yx_totals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">a_year</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
<span class="n">swe_p_total_yoy</span> <span class="o">=</span> <span class="n">swe_ten_yoy</span><span class="p">[</span><span class="n">swe_ten_yoy</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">swe_top_ten</span><span class="p">)]</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
<span class="n">charts</span> <span class="o">=</span> <span class="n">swe_p_total_yoy</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">stackplot</span><span class="p">(</span><span class="n">charts</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">charts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">chart</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ls</span><span class="o">=</span><span class="p">[</span><span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">description</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">h</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ls</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">.05</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Year over percent of total of the top ten Saint Sulpice&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/da572081d80b382e0e655356befddb86a064fb86d4d78eb1ca3d5666d3d21b88.png" src="_images/da572081d80b382e0e655356befddb86a064fb86d4d78eb1ca3d5666d3d21b88.png" />
</div>
</div>
<p><em>Table of values values percent of total of the top ten Saint Sulpice</em></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">charts</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">charts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">dfCodes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
<span class="n">charts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">charts</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">charts</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">charts</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>yx</th>
      <th>y1</th>
      <th>y2</th>
      <th>y3</th>
      <th>y4</th>
      <th>y5</th>
      <th>y6</th>
      <th>description</th>
    </tr>
    <tr>
      <th>code</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Gfrags</th>
      <td>19.7</td>
      <td>2.7</td>
      <td>35.1</td>
      <td>8.1</td>
      <td>14.2</td>
      <td>21.5</td>
      <td>Fragmented plastics</td>
    </tr>
    <tr>
      <th>G200</th>
      <td>17.8</td>
      <td>18.1</td>
      <td>10.6</td>
      <td>0.0</td>
      <td>7.6</td>
      <td>6.7</td>
      <td>Glass drink bottles, pieces</td>
    </tr>
    <tr>
      <th>Gfoam</th>
      <td>14.9</td>
      <td>7.6</td>
      <td>2.5</td>
      <td>43.8</td>
      <td>15.5</td>
      <td>30.9</td>
      <td>Expanded polystyrene</td>
    </tr>
    <tr>
      <th>G27</th>
      <td>11.2</td>
      <td>12.2</td>
      <td>11.6</td>
      <td>0.0</td>
      <td>7.2</td>
      <td>3.7</td>
      <td>Cigarette filters</td>
    </tr>
    <tr>
      <th>G95</th>
      <td>9.2</td>
      <td>5.8</td>
      <td>4.4</td>
      <td>0.0</td>
      <td>3.6</td>
      <td>2.4</td>
      <td>Cotton bud/swab sticks</td>
    </tr>
    <tr>
      <th>G30</th>
      <td>7.4</td>
      <td>9.5</td>
      <td>7.8</td>
      <td>2.5</td>
      <td>5.9</td>
      <td>1.1</td>
      <td>Food wrappers; candy, snacks</td>
    </tr>
    <tr>
      <th>G100</th>
      <td>2.5</td>
      <td>3.5</td>
      <td>1.9</td>
      <td>5.6</td>
      <td>1.8</td>
      <td>1.2</td>
      <td>Medical; containers/tubes/ packaging</td>
    </tr>
    <tr>
      <th>G67</th>
      <td>1.7</td>
      <td>2.4</td>
      <td>3.0</td>
      <td>8.8</td>
      <td>2.2</td>
      <td>0.9</td>
      <td>Industrial sheeting</td>
    </tr>
    <tr>
      <th>G89</th>
      <td>1.5</td>
      <td>2.6</td>
      <td>2.6</td>
      <td>5.6</td>
      <td>2.8</td>
      <td>0.6</td>
      <td>Plastic construction waste</td>
    </tr>
    <tr>
      <th>G74</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.1</td>
      <td>6.5</td>
      <td>Foam packaging/insulation/polyurethane</td>
    </tr>
    <tr>
      <th>total</th>
      <td>85.9</td>
      <td>64.4</td>
      <td>79.5</td>
      <td>74.4</td>
      <td>65.9</td>
      <td>75.5</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="site-specific-results">
<h2><span class="section-number">1.3. </span>Site specific results<a class="headerlink" href="#site-specific-results" title="Permalink to this headline">#</a></h2>
<p>As mentioned previously the SWE group is the only group that has surveys in each year in the same municipality. Of the beaches surveyed by SWE, two are separated by a short walk through a residential neighborhood. The year over year results from Plage de St-Sulpice (PS) and Parc des Pierrettes (PP) were compared to the base year median set in sampling period one. Both beaches had results greater than the lake median in each year but the pcs/m at each site declined year over year with respect to the first sample. This corresponds with the observations in the previous section reference y-one and y-six. If there is a general trend it appears that these two locations are following it.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">boi</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;plage-de-st-sulpice&quot;</span><span class="p">,</span><span class="s2">&quot;parc-des-pierrettes&quot;</span><span class="p">]</span>
<span class="n">sp_ld</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">boi</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="p">})</span>
<span class="n">fdsp</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">boi</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># this the median value from year one for the lake</span>
<span class="n">sp_ld</span><span class="p">[</span><span class="s2">&quot;dif-by&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sp_ld</span><span class="o">.</span><span class="n">pcs_m</span> <span class="o">-</span> <span class="mf">4.86</span>

<span class="c1"># substract the first year from all subsequent years:</span>
<span class="n">sp_ld</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">location</span><span class="o">==</span><span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;dif-y1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">pcs_m</span> <span class="o">-</span> <span class="mf">28.13</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sp_ld</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">location</span><span class="o">==</span><span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;dif-y1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">pcs_m</span> <span class="o">-</span> <span class="mf">14.39</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sp_ld</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>yx</th>
      <th>loc_date</th>
      <th>location</th>
      <th>pcs_m</th>
      <th>quantity</th>
      <th>dif-by</th>
      <th>dif-y1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>y1</td>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>14.39</td>
      <td>693</td>
      <td>9.53</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>y1</td>
      <td>('plage-de-st-sulpice', '2016-10-13')</td>
      <td>plage-de-st-sulpice</td>
      <td>28.13</td>
      <td>2028</td>
      <td>23.27</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>y2</td>
      <td>('parc-des-pierrettes', '2017-10-05')</td>
      <td>parc-des-pierrettes</td>
      <td>6.15</td>
      <td>258</td>
      <td>1.29</td>
      <td>-8.24</td>
    </tr>
    <tr>
      <th>3</th>
      <td>y2</td>
      <td>('plage-de-st-sulpice', '2017-10-05')</td>
      <td>plage-de-st-sulpice</td>
      <td>8.92</td>
      <td>748</td>
      <td>4.06</td>
      <td>-19.21</td>
    </tr>
    <tr>
      <th>4</th>
      <td>y4</td>
      <td>('parc-des-pierrettes', '2019-10-10')</td>
      <td>parc-des-pierrettes</td>
      <td>5.31</td>
      <td>160</td>
      <td>0.45</td>
      <td>-9.08</td>
    </tr>
    <tr>
      <th>5</th>
      <td>y5</td>
      <td>('parc-des-pierrettes', '2020-10-01')</td>
      <td>parc-des-pierrettes</td>
      <td>10.08</td>
      <td>464</td>
      <td>5.22</td>
      <td>-4.31</td>
    </tr>
    <tr>
      <th>6</th>
      <td>y5</td>
      <td>('plage-de-st-sulpice', '2020-10-01')</td>
      <td>plage-de-st-sulpice</td>
      <td>7.85</td>
      <td>326</td>
      <td>2.99</td>
      <td>-20.28</td>
    </tr>
    <tr>
      <th>7</th>
      <td>y6</td>
      <td>('plage-de-st-sulpice', '2021-10-07')</td>
      <td>plage-de-st-sulpice</td>
      <td>7.65</td>
      <td>304</td>
      <td>2.79</td>
      <td>-20.48</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><em><strong>Above:</strong> The difference in survey results from the base year (diff-by) and the first sample (diff-y1) at Plage de St Sulpice and Parc des Pierettes.</em></p>
<p>Upon collection and sorting, the quantity of each material type was input into the database based on the MLW code classification. Figure x and y (quantities presented in Appendix – Table 5 &amp; 6) show the segmented data for the litter collected at Plage de St-Sulpice (PS) and Parc des Pierrettes (PP) beaches.</p>
<p>Scrutinizing the data further, it can be seen that the majority of the litter is composed of plastics that accounts for approximately 79 and 88% for both PS and PP, respectively.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fdsp</span><span class="p">[</span><span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fdsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">mat_d</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">mats</span> <span class="o">=</span> <span class="n">fdsp</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">mats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mats</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">mats</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">mats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mats</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">mats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mats</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">mats</span><span class="o">.</span><span class="n">quantity</span><span class="o">/</span><span class="n">mats</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mats</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">mats</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f total&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>location</th>
      <th>parc-des-pierrettes</th>
      <th>plage-de-st-sulpice</th>
    </tr>
    <tr>
      <th>material</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Chemicals</th>
      <td>0.06</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Cloth</th>
      <td>0.95</td>
      <td>0.44</td>
    </tr>
    <tr>
      <th>Glass</th>
      <td>7.30</td>
      <td>25.48</td>
    </tr>
    <tr>
      <th>Metal</th>
      <td>1.59</td>
      <td>3.05</td>
    </tr>
    <tr>
      <th>Paper</th>
      <td>1.21</td>
      <td>0.50</td>
    </tr>
    <tr>
      <th>Plastic</th>
      <td>88.19</td>
      <td>69.11</td>
    </tr>
    <tr>
      <th>Rubber</th>
      <td>0.38</td>
      <td>0.91</td>
    </tr>
    <tr>
      <th>Unidentified</th>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>Wood</th>
      <td>0.32</td>
      <td>0.50</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<!-- Taking the top 10 litter items from PP and PS, and organising them along with the total surveyed quantities, a comparison of the interquartile range and the outliers is made (Fig. 10). Surprisingly, the items collected, although made of similar material (predominantly artificial polymeric material), are not from the same source.  Litter G100, G200, G30, G87 and G95, are all outliers and represent an ‘above average’ accumulation on the shore of PS (Codes and Description available in Appendix – Table 7). The results for PP are similar in that the most common objects all exceed the median of the combined results of HD and SLR.
When all objects are considered, the median survey result at PS (18.5) and PP (10.25) place these locations in the 88th and 73rd percentile rankings respectively with respect to the combined results. Suggesting that there was a better chance of observing elevated litter densities at these two beaches when compared to the rest of the locations. -->
<p>Via categorising the AL in accordance to the MLW, and comparing the total surveyed data, it is shown that even with the appearance of the same physical material, in this case predominantly composed of polymeric material, the source it originates from is different along with the quantity. Most probably, the reason for the difference could be the flow in the lake. It takes approximately 10 years for the volume of water to pass through the lake (residence time), and at the same time seasonal fluctuation and the direction of the beach can affect where and by how much the waste accumulates. For instance, the PS beach is somewhat sheltered from the directional flow of water, and thus there is a higher potential of debris accumulating there over time.  PP is mostly parallel to the flow and thus, it attracts a different type of waste. Thus, a quantitative assessment as such helps gain insight as to how ‘healthy’ the shoreline is when used for recreational activities based on the location relative to the flow.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">code_summary</span> <span class="o">=</span> <span class="n">fdsp</span><span class="p">[</span><span class="n">fdsp</span><span class="o">.</span><span class="n">yx</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="s2">&quot;y5&quot;</span><span class="p">])]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="s2">&quot;groupname&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">code_summary</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">code_summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code_summary</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">code</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">code_d</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>
    <span class="n">code_summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code_summary</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">code</span><span class="p">,</span> <span class="s2">&quot;material&quot;</span><span class="p">]</span> <span class="o">=</span>  <span class="n">mat_d</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>

<span class="n">c_sum</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">each_beach</span> <span class="ow">in</span> <span class="n">boi</span><span class="p">:</span>
    <span class="n">tten</span> <span class="o">=</span> <span class="n">code_summary</span><span class="p">[</span><span class="n">code_summary</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span><span class="n">each_beach</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">mat</span> <span class="o">=</span> <span class="n">code_summary</span><span class="p">[</span><span class="n">code_summary</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span><span class="n">each_beach</span><span class="p">][[</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;material&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">groups</span> <span class="o">=</span> <span class="n">code_summary</span><span class="p">[</span><span class="n">code_summary</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span><span class="n">each_beach</span><span class="p">][[</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="n">c_sum</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">tten</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">groups</span><span class="p">])</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="section" id="saint-sulpice">
<h3><span class="section-number">1.3.1. </span>Saint Sulpice:<a class="headerlink" href="#saint-sulpice" title="Permalink to this headline">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>

<span class="n">matdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">gdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>


<span class="k">def</span> <span class="nf">a_simple_stack</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">.05</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;atitle&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;ylabel&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    

    <span class="n">bottom</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">each_value</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">each_value</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">each_value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">bottom</span> <span class="o">+=</span> <span class="n">each_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span>  <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>  <span class="n">bottom</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">h</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">ls</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="n">ncol</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

    
<span class="n">titleone</span><span class="o">=</span><span class="s2">&quot;Total quantity of top ten items&quot;</span>
<span class="n">ylabelone</span> <span class="o">=</span> <span class="s2">&quot;Pieces collected&quot;</span>

<span class="n">titletwo</span> <span class="o">=</span> <span class="s2">&quot;Material totals&quot;</span>
<span class="n">titlethree</span><span class="o">=</span> <span class="s2">&quot;Group or size classification&quot;</span>

    
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">tdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titleone</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">)</span>
<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">matdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titletwo</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">gdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titlethree</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Saint Sulpice: aggregated object counts&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/a4d096147337670738c050c0c45114f824eb88d4fe19ffccb243459f5f097c94.png" src="_images/a4d096147337670738c050c0c45114f824eb88d4fe19ffccb243459f5f097c94.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c_sum</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>description</th>
      <th>quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>328</th>
      <td>Glass drink bottles, pieces</td>
      <td>737</td>
    </tr>
    <tr>
      <th>459</th>
      <td>Fragmented plastics</td>
      <td>475</td>
    </tr>
    <tr>
      <th>346</th>
      <td>Cigarette filters</td>
      <td>341</td>
    </tr>
    <tr>
      <th>350</th>
      <td>Food wrappers; candy, snacks</td>
      <td>279</td>
    </tr>
    <tr>
      <th>452</th>
      <td>Cotton bud/swab sticks</td>
      <td>252</td>
    </tr>
    <tr>
      <th>458</th>
      <td>Expanded polystyrene</td>
      <td>142</td>
    </tr>
    <tr>
      <th>382</th>
      <td>Industrial sheeting</td>
      <td>65</td>
    </tr>
    <tr>
      <th>403</th>
      <td>Tape, masking/duct/packing</td>
      <td>59</td>
    </tr>
    <tr>
      <th>232</th>
      <td>Medical; containers/tubes/ packaging</td>
      <td>57</td>
    </tr>
    <tr>
      <th>405</th>
      <td>Plastic construction waste</td>
      <td>52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="parc-des-pierettes">
<h3><span class="section-number">1.3.2. </span>Parc des Pierettes<a class="headerlink" href="#parc-des-pierettes" title="Permalink to this headline">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp_ld_summary</span> <span class="o">=</span> <span class="n">sp_ld</span><span class="p">[(</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">sp_ld</span><span class="o">.</span><span class="n">yx</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="s2">&quot;y5&quot;</span><span class="p">]))]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">sp_sum</span> <span class="o">=</span> <span class="n">sp_ld_summary</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yx&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">:</span><span class="s2">&quot;median&quot;</span><span class="p">,</span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="s2">&quot;sum&quot;</span><span class="p">})</span>

<span class="n">tdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>

<span class="n">matdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">gdata</span> <span class="o">=</span> <span class="n">c_sum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">titleone</span><span class="o">=</span><span class="s2">&quot;Total quantity of top ten items&quot;</span>
<span class="n">ylabelone</span> <span class="o">=</span> <span class="s2">&quot;Pieces collected&quot;</span>

<span class="n">titletwo</span> <span class="o">=</span> <span class="s2">&quot;Material totals&quot;</span>
<span class="n">titlethree</span><span class="o">=</span> <span class="s2">&quot;Group or size classification&quot;</span>

    
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">tdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titleone</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">)</span>
<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">matdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titletwo</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">a_simple_stack</span><span class="p">(</span><span class="n">gdata</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="n">titlethree</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="n">ylabelone</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Parc des Pierrettes: aggregated object counts&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/a09605231c89fa6082271a8af6c77d58e59b1aef1312f05b557fa8ce294d9432.png" src="_images/a09605231c89fa6082271a8af6c77d58e59b1aef1312f05b557fa8ce294d9432.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c_sum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>description</th>
      <th>quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>228</th>
      <td>Expanded polystyrene</td>
      <td>333</td>
    </tr>
    <tr>
      <th>229</th>
      <td>Fragmented plastics</td>
      <td>195</td>
    </tr>
    <tr>
      <th>116</th>
      <td>Cigarette filters</td>
      <td>169</td>
    </tr>
    <tr>
      <th>120</th>
      <td>Food wrappers; candy, snacks</td>
      <td>86</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Glass drink bottles, pieces</td>
      <td>80</td>
    </tr>
    <tr>
      <th>222</th>
      <td>Cotton bud/swab sticks</td>
      <td>80</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Medical; containers/tubes/ packaging</td>
      <td>66</td>
    </tr>
    <tr>
      <th>175</th>
      <td>Plastic construction waste</td>
      <td>49</td>
    </tr>
    <tr>
      <th>170</th>
      <td>Foam packaging/insulation/polyurethane</td>
      <td>34</td>
    </tr>
    <tr>
      <th>114</th>
      <td>Tobacco; plastic packaging, containers</td>
      <td>33</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="material-totals">
<h4><span class="section-number">1.3.2.1. </span>Material totals<a class="headerlink" href="#material-totals" title="Permalink to this headline">#</a></h4>
<p>At PS all the most common items had lower survey values when compared to year one, at PP it was 6 out of 10. In both cases cigarette ends and broken glass are both less in the last survey year. This also corresponds to the general trend observed in the national report. St Sulpice is moderately dense and would be considered urban under most circumstances.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tsp</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">tpp</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;quantity&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>

<span class="n">xaxone</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">sone</span> <span class="o">=</span>  <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="s2">&quot;y5&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">syone</span> <span class="o">=</span>  <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="s2">&quot;y1&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">xaxtwo</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tpp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="c1"># stwo =  fd[(fd.location == boi[1])&amp;(fd.code.isin(tsp.code.values))].groupby([&quot;loc_date&quot;, &quot;code&quot;], as_index=False).pcs_m.sum()</span>
<span class="n">pone</span> <span class="o">=</span>  <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="s2">&quot;y5&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">pyone</span> <span class="o">=</span>  <span class="n">fd</span><span class="p">[(</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">tsp</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">&amp;</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">yx</span> <span class="o">==</span> <span class="s2">&quot;y1&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">axone</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">axtwo</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">xaxone</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">xaxtwo</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">syone</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sone</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axone</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pyone</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;year one&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pone</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;code&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;year five&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axtwo</span><span class="p">)</span>

<span class="n">axone</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">boi</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">boi</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">axone</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">axtwo</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">h</span><span class="p">,</span><span class="n">l</span> <span class="o">=</span> <span class="n">axtwo</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

<span class="n">ls</span><span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">l</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">hs</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">h</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>

<span class="n">axtwo</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">hs</span><span class="p">,</span> <span class="n">ls</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/aac4035efe2e2c1d9dfd778265f3cf64d11074a26c13578b49b7fb661eef1c5e.png" src="_images/aac4035efe2e2c1d9dfd778265f3cf64d11074a26c13578b49b7fb661eef1c5e.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">boi</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;plage-de-st-sulpice&quot;</span><span class="p">,</span><span class="s2">&quot;parc-des-pierrettes&quot;</span><span class="p">]</span>
<span class="n">sp_ld</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">boi</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">sp_ld</span><span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sp_ld</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">combined</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">ecdfs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ECDF</span><span class="p">(</span><span class="n">a_locdate</span><span class="p">[</span><span class="n">a_locdate</span><span class="o">.</span><span class="n">team</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;SLR&quot;</span><span class="p">,</span> <span class="s2">&quot;PC&quot;</span><span class="p">]]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ylimit</span><span class="p">)</span>


<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;SLR&quot;</span><span class="p">,</span> <span class="s2">&quot;PC&quot;</span><span class="p">]):</span>
    <span class="n">somdata</span><span class="o">=</span><span class="n">ecdfs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x</span>
    <span class="n">lower25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.25</span><span class="p">)</span>
    <span class="n">upper25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">somdata</span><span class="p">,</span> <span class="mf">.75</span><span class="p">)</span>
    
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">lower25</span><span class="p">,</span> <span class="n">upper25</span><span class="p">],</span> <span class="n">y1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;IQR </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>    
        
<span class="n">combined</span> <span class="o">=</span> <span class="n">ECDF</span><span class="p">([</span><span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">ecdfs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="p">])</span>
<span class="n">boi</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;plage-de-st-sulpice&quot;</span><span class="p">,</span><span class="s2">&quot;parc-des-pierrettes&quot;</span><span class="p">]</span>
<span class="n">sp_ld</span> <span class="o">=</span> <span class="n">fd</span><span class="p">[</span><span class="n">fd</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">boi</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">sp_ld</span><span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sp_ld</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">combined</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">combined</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">combined</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Combined surveys&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sp_ld</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">colors</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

<span class="n">n_handles</span> <span class="o">=</span> <span class="n">handles</span> <span class="c1"># [*handles[-4:], *handles[:-4]] # handles</span>
<span class="n">n_labels</span> <span class="o">=</span>  <span class="n">labels</span> <span class="c1"># [*labels[-4:], *labels[:-4]] # labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;ratio of samples&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">n_handles</span><span class="p">,</span> <span class="n">n_labels</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/28639435b620f559ac799976a23a0f62e4b56be238e61eebcaa5ed7cec76b65b.png" src="_images/28639435b620f559ac799976a23a0f62e4b56be238e61eebcaa5ed7cec76b65b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sp_ld</span><span class="p">[[</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;pcs_m&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>location</th>
      <th>pcs_m</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>parc-des-pierrettes</td>
      <td>14.39</td>
      <td>0.838565</td>
    </tr>
    <tr>
      <th>1</th>
      <td>parc-des-pierrettes</td>
      <td>6.15</td>
      <td>0.582960</td>
    </tr>
    <tr>
      <th>2</th>
      <td>parc-des-pierrettes</td>
      <td>5.31</td>
      <td>0.502242</td>
    </tr>
    <tr>
      <th>3</th>
      <td>parc-des-pierrettes</td>
      <td>10.08</td>
      <td>0.757848</td>
    </tr>
    <tr>
      <th>4</th>
      <td>plage-de-st-sulpice</td>
      <td>28.13</td>
      <td>0.950673</td>
    </tr>
    <tr>
      <th>5</th>
      <td>plage-de-st-sulpice</td>
      <td>8.92</td>
      <td>0.717489</td>
    </tr>
    <tr>
      <th>6</th>
      <td>plage-de-st-sulpice</td>
      <td>7.85</td>
      <td>0.690583</td>
    </tr>
    <tr>
      <th>7</th>
      <td>plage-de-st-sulpice</td>
      <td>7.65</td>
      <td>0.681614</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="titlepage.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Trash: Here and Now</p>
      </div>
    </a>
    <a class="right-next"
       href="ptog.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Estimating values</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variation-in-trash-over-time">1.1. Variation in trash over time</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#year-over-year-summary-statistics">1.1.1. Year over year summary statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#survey-total-summary">1.1.2. Survey total summary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#year-over-year-cumulative-distribution">1.1.3. Year over year cumulative distribution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-between-the-survey-groups">1.1.4. Comparison between the survey groups</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-over-time">1.2. Composition over time</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-over-time-saint-sulpice">1.2.1. Composition over time Saint Sulpice</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#site-specific-results">1.3. Site specific results</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saint-sulpice">1.3.1. Saint Sulpice:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parc-des-pierettes">1.3.2. Parc des Pierettes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#material-totals">1.3.2.1. Material totals</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By All
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
   hammerdirt 2023
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>