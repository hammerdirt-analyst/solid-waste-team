

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Testing 2023 predictions &#8212; Solid waste team</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'grids_2023';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Plastic shotgun shell wadding" href="plastic_shotgun_wadding.html" />
    <link rel="prev" title="2. Empirical Bayes: grid approximations" href="grid_approximation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="titlepage.html">
  
  
  
  
  
    <p class="title logo__title">Solid waste team</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="summary_2015_2021.html">1. Results 2015 - 2021</a></li>
<li class="toctree-l1"><a class="reference internal" href="grid_approximation.html">2. Empirical Bayes: grid approximations</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Testing 2023 predictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="plastic_shotgun_wadding.html">4. Plastic shotgun shell wadding</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/hammerdirt-analyst/solid-waste-team" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/hammerdirt-analyst/solid-waste-team/issues/new?title=Issue%20on%20page%20%2Fgrids_2023.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Testing 2023 predictions</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-solid-waste-experience">3.1. The solid waste experience</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#observations-and-interpretations">3.1.1. Observations and interpretations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-unique-problem-and-a-unique-solution">3.1.2. A unique problem and a unique solution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reducing-dimensionality-find-the-most-common">3.1.3. Reducing dimensionality: find the most common</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assessing-the-environment">3.1.4. Assessing the environment</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semester-project">3.1.5. Semester project</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-previous-results">3.2. Summary of previous results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-survey-results-saint-sulpice">3.3. Expected survey results Saint Sulpice</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#predicted-values-using-empirical-bayes-method">3.3.1. Predicted values using empirical Bayes method</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estimates-from-participants">3.3.2. Estimates from participants</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#survey-results-october-5-2023-saint-sulpice">3.4. Survey results October 5, 2023 Saint Sulpice</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">3.5. Survey results October 5, 2023 Saint Sulpice</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-estimated-found-and-predicted">3.6. Results: Estimated, found and predicted</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion">3.7. Discussion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">3.8. Conclusions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">3.8.1. Next steps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#annex">3.9. Annex</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-accuracy-of-the-predictions-in-relation-to-what-was-found">3.9.1. The accuracy of the predictions in relation to what was found</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="testing-2023-predictions">
<h1><span class="section-number">3. </span>Testing 2023 predictions<a class="headerlink" href="#testing-2023-predictions" title="Permalink to this heading">#</a></h1>
<div class="section" id="the-solid-waste-experience">
<h2><span class="section-number">3.1. </span>The solid waste experience<a class="headerlink" href="#the-solid-waste-experience" title="Permalink to this heading">#</a></h2>
<p>This is the seventh year that the Solid Waste Team from the EPFL collect beach litter samples. In the maritime environment people have been measuring beach litter for decades. There is a standard protocol (<a class="reference external" href="https://publications.jrc.ec.europa.eu/repository/handle/JRC83985">Guidance on Monitoring Marine Litter in European Seas</a>) for the EU area and threshold values for good environmental standing (<a class="reference external" href="https://mcc.jrc.ec.europa.eu/main/dev.py?N=41&amp;O=454">Beach litter thresholds</a>).</p>
<p>In Switzerland we started monitoring shoreline trash in 2015, it was not obvious to most observers (except for Prof Ludwig) why this might be of interest. However, by 2016 the EU realized that monitoring trash flows in rivers and lakes (<a class="reference external" href="https://mcc.jrc.ec.europa.eu/documents/201703034325.pdf">monitoring trash in rivers</a>) might be a good way to monitor flows into the oceans. All the while conservationists and biologists have raised concerns about the presence of plastics and diminshing biodiversity. The threshold established by the EU is based on the principle of precaution: <em>the health effects are unknown, it is prudent to reduce contact with plastics when possible</em> (<a class="reference external" href="https://mcc.jrc.ec.europa.eu/main/dev.py?N=41&amp;O=454">Beach litter thresholds</a>).</p>
<div class="section" id="observations-and-interpretations">
<h3><span class="section-number">3.1.1. </span>Observations and interpretations<a class="headerlink" href="#observations-and-interpretations" title="Permalink to this heading">#</a></h3>
<p>A beach litter survey is a detailed observation of the quantity and type of objects that were found at the beach. This observation is further defined by the time and place it occured. The location of the beach litter survey can be described numerically using a topographical map and some common overlay techniques in QGIS.</p>
<p>The information gathered from the map are part of the <em>conditions</em> that describe a survey location in particular. When beach litter surveys are considered in terms of their shared attributes we can use very simple techniques to find correlations between the conditions and the amount of trash found. For example, we can use Spearmans ranked correlation coefficient to quickly identify topographical attributes where specfic objects tend to accumulate. We wrote an article about it:  (<a class="reference external" href="https://hammerdirt-analyst.github.io/landuse/titlepage.html">Near or far</a>).</p>
</div>
<div class="section" id="a-unique-problem-and-a-unique-solution">
<h3><span class="section-number">3.1.2. </span>A unique problem and a unique solution<a class="headerlink" href="#a-unique-problem-and-a-unique-solution" title="Permalink to this heading">#</a></h3>
<p>Trash in the environment is a unique problem. In general we know how an object becomes litter: either on purpose or on accident, people create the conditions that increase the chance that an end of lifecycle object will evade the waste recovery system. Resources are employed to change the behavior of people and therefore improve the chance that an end of lifcycle object will be approriately discarded, <em>(need reference)</em>.</p>
<p>There are public services that are dedicated to collecting inappropriately discarded items. Beach litter surveys are the observed result of the difference between the effect of the systems in place to reduce litter and the amount of litter produced. Indifferent of how that litter was produced or the measures in place to prevent it. Therefore this environmental assessment is reliant on individual observations. We can look to orntithologists and botanists for examples on how to interpret this data.</p>
<div class="admonition-asessing-the-environment admonition">
<p class="admonition-title">Asessing the environment:</p>
<p><strong>What and how much are the volunteers likely to find?</strong></p>
<p><em>This is the most honest answer that can be derived from the data.</em></p>
</div>
<p>There are 336 observations from 66 locations that describe the conditions under which 73,000 items were found on the 145km shore-line of Lake Geneva. Although this is only a small portion of the lake shore, this is still a good amount of samples in a six year period. It would be difficult to find a comparable stretch of coastline anywhere in the world that has that many samples in seven years. We can use that data to form our opinion of what we might find on October 5th.</p>
<div class="admonition-asessing-the-environment admonition">
<p class="admonition-title">Asessing the environment:</p>
<p>We can not tell you how much there is. <strong>Only how much you are likely to find.</strong></p>
<p>What the difference is between the two statements is a philosophical discussion. In reality it may be hard to make such a distinction.</p>
</div>
</div>
<div class="section" id="reducing-dimensionality-find-the-most-common">
<h3><span class="section-number">3.1.3. </span>Reducing dimensionality: find the most common<a class="headerlink" href="#reducing-dimensionality-find-the-most-common" title="Permalink to this heading">#</a></h3>
<p>There are 228 different categories of objects. We are interested in what we might find and how likely we are to find it. Therefore we limit the search to items that were previously identified in at least 50% of the surveys AND/OR objects that are distinctive (easy to identify). This accounts for 74% of all objects previously recorded.</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ssp</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>loc_date</th>
      <th>slug</th>
      <th>city</th>
      <th>water_name_slug</th>
      <th>date</th>
      <th>doy</th>
      <th>Project</th>
      <th>code</th>
      <th>pcs/m</th>
      <th>quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29392</th>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>Saint-Sulpice (VD)</td>
      <td>lac-leman</td>
      <td>2016-10-13</td>
      <td>287</td>
      <td>Training</td>
      <td>G1</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29393</th>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>Saint-Sulpice (VD)</td>
      <td>lac-leman</td>
      <td>2016-10-13</td>
      <td>287</td>
      <td>Training</td>
      <td>G10</td>
      <td>0.02</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29394</th>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>Saint-Sulpice (VD)</td>
      <td>lac-leman</td>
      <td>2016-10-13</td>
      <td>287</td>
      <td>Training</td>
      <td>G100</td>
      <td>0.79</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29395</th>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>Saint-Sulpice (VD)</td>
      <td>lac-leman</td>
      <td>2016-10-13</td>
      <td>287</td>
      <td>Training</td>
      <td>G101</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>29396</th>
      <td>('parc-des-pierrettes', '2016-10-13')</td>
      <td>parc-des-pierrettes</td>
      <td>Saint-Sulpice (VD)</td>
      <td>lac-leman</td>
      <td>2016-10-13</td>
      <td>287</td>
      <td>Training</td>
      <td>G102</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_d0aab tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_d0aab tr:nth-child(odd) {
  background: #FFF;
}
#T_d0aab tr {
  font-size: 14px;
  padding: 12px;
}
#T_d0aab th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_d0aab caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_d0aab">
  <caption>Table 1: The objects of interest. The average pcs/m per sample for each object. The fail rate is the % of all samples that the object appeared in.</caption>
  <thead>
    <tr>
      <th class="blank" >&nbsp;</th>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_d0aab_level0_col0" class="col_heading level0 col0" >pcs/m</th>
      <th id="T_d0aab_level0_col1" class="col_heading level0 col1" >quantity</th>
      <th id="T_d0aab_level0_col2" class="col_heading level0 col2" >fail rate</th>
      <th id="T_d0aab_level0_col3" class="col_heading level0 col3" >% of total</th>
    </tr>
    <tr>
      <th class="index_name level0" >code</th>
      <th class="index_name level1" >object</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_d0aab_level0_row0" class="row_heading level0 row0" >G112</th>
      <th id="T_d0aab_level1_row0" class="row_heading level1 row0" >Industrial pellets (nurdles)</th>
      <td id="T_d0aab_row0_col0" class="data row0 col0" >0.16</td>
      <td id="T_d0aab_row0_col1" class="data row0 col1" >2686</td>
      <td id="T_d0aab_row0_col2" class="data row0 col2" >0.22</td>
      <td id="T_d0aab_row0_col3" class="data row0 col3" >0.02</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row1" class="row_heading level0 row1" >G27</th>
      <th id="T_d0aab_level1_row1" class="row_heading level1 row1" >Cigarette filters</th>
      <td id="T_d0aab_row1_col0" class="data row1 col0" >1.12</td>
      <td id="T_d0aab_row1_col1" class="data row1 col1" >16458</td>
      <td id="T_d0aab_row1_col2" class="data row1 col2" >0.85</td>
      <td id="T_d0aab_row1_col3" class="data row1 col3" >0.15</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row2" class="row_heading level0 row2" >G30</th>
      <th id="T_d0aab_level1_row2" class="row_heading level1 row2" >Food wrappers; candy, snacks</th>
      <td id="T_d0aab_row2_col0" class="data row2 col0" >0.54</td>
      <td id="T_d0aab_row2_col1" class="data row2 col1" >6767</td>
      <td id="T_d0aab_row2_col2" class="data row2 col2" >0.86</td>
      <td id="T_d0aab_row2_col3" class="data row2 col3" >0.06</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row3" class="row_heading level0 row3" >G32</th>
      <th id="T_d0aab_level1_row3" class="row_heading level1 row3" >Toys and party favors</th>
      <td id="T_d0aab_row3_col0" class="data row3 col0" >0.05</td>
      <td id="T_d0aab_row3_col1" class="data row3 col1" >606</td>
      <td id="T_d0aab_row3_col2" class="data row3 col2" >0.48</td>
      <td id="T_d0aab_row3_col3" class="data row3 col3" >0.01</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row4" class="row_heading level0 row4" >G67</th>
      <th id="T_d0aab_level1_row4" class="row_heading level1 row4" >Industrial sheeting</th>
      <td id="T_d0aab_row4_col0" class="data row4 col0" >0.30</td>
      <td id="T_d0aab_row4_col1" class="data row4 col1" >3356</td>
      <td id="T_d0aab_row4_col2" class="data row4 col2" >0.57</td>
      <td id="T_d0aab_row4_col3" class="data row4 col3" >0.03</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row5" class="row_heading level0 row5" >G70</th>
      <th id="T_d0aab_level1_row5" class="row_heading level1 row5" >Shotgun cartridges</th>
      <td id="T_d0aab_row5_col0" class="data row5 col0" >0.08</td>
      <td id="T_d0aab_row5_col1" class="data row5 col1" >1030</td>
      <td id="T_d0aab_row5_col2" class="data row5 col2" >0.48</td>
      <td id="T_d0aab_row5_col3" class="data row5 col3" >0.01</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row6" class="row_heading level0 row6" >G89</th>
      <th id="T_d0aab_level1_row6" class="row_heading level1 row6" >Plastic construction waste</th>
      <td id="T_d0aab_row6_col0" class="data row6 col0" >0.14</td>
      <td id="T_d0aab_row6_col1" class="data row6 col1" >1970</td>
      <td id="T_d0aab_row6_col2" class="data row6 col2" >0.51</td>
      <td id="T_d0aab_row6_col3" class="data row6 col3" >0.02</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row7" class="row_heading level0 row7" >G95</th>
      <th id="T_d0aab_level1_row7" class="row_heading level1 row7" >Cotton bud/swab sticks</th>
      <td id="T_d0aab_row7_col0" class="data row7 col0" >0.39</td>
      <td id="T_d0aab_row7_col1" class="data row7 col1" >4777</td>
      <td id="T_d0aab_row7_col2" class="data row7 col2" >0.74</td>
      <td id="T_d0aab_row7_col3" class="data row7 col3" >0.04</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row8" class="row_heading level0 row8" >G96</th>
      <th id="T_d0aab_level1_row8" class="row_heading level1 row8" >Sanitary pads /panty liners/tampons and applicators</th>
      <td id="T_d0aab_row8_col0" class="data row8 col0" >0.04</td>
      <td id="T_d0aab_row8_col1" class="data row8 col1" >373</td>
      <td id="T_d0aab_row8_col2" class="data row8 col2" >0.29</td>
      <td id="T_d0aab_row8_col3" class="data row8 col3" >0.00</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row9" class="row_heading level0 row9" >Gcaps</th>
      <th id="T_d0aab_level1_row9" class="row_heading level1 row9" >Plastic bottle lids</th>
      <td id="T_d0aab_row9_col0" class="data row9 col0" >0.31</td>
      <td id="T_d0aab_row9_col1" class="data row9 col1" >3953</td>
      <td id="T_d0aab_row9_col2" class="data row9 col2" >0.84</td>
      <td id="T_d0aab_row9_col3" class="data row9 col3" >0.04</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row10" class="row_heading level0 row10" >Gfoam</th>
      <th id="T_d0aab_level1_row10" class="row_heading level1 row10" >Expanded polystyrene</th>
      <td id="T_d0aab_row10_col0" class="data row10 col0" >1.02</td>
      <td id="T_d0aab_row10_col1" class="data row10 col1" >12871</td>
      <td id="T_d0aab_row10_col2" class="data row10 col2" >0.81</td>
      <td id="T_d0aab_row10_col3" class="data row10 col3" >0.12</td>
    </tr>
    <tr>
      <th id="T_d0aab_level0_row11" class="row_heading level0 row11" >Gfrags</th>
      <th id="T_d0aab_level1_row11" class="row_heading level1 row11" >Fragmented plastics</th>
      <td id="T_d0aab_row11_col0" class="data row11 col0" >1.34</td>
      <td id="T_d0aab_row11_col1" class="data row11 col1" >17479</td>
      <td id="T_d0aab_row11_col2" class="data row11 col2" >0.93</td>
      <td id="T_d0aab_row11_col3" class="data row11 col3" >0.16</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="assessing-the-environment">
<h3><span class="section-number">3.1.4. </span>Assessing the environment<a class="headerlink" href="#assessing-the-environment" title="Permalink to this heading">#</a></h3>
<p><a class="reference download internal" download="" href="_downloads/ff8d6a5713ac07821fe76d53c531502e/survey_estimates.pdf"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">the</span> <span class="pre">form</span></code></a></p>
<p>The goal for todays excercise in 2023 is to determine how well our previous experiences inform us about the present. This is a simple process. There are four steps:</p>
<ol class="arabic simple">
<li><p>Start with your current understanding of the problem, consult the data here and form an opinion of how many of each item in the previous section you might find in 100 meters of shoreline. For example your might think 200 cigarette ends per 100m is a likely amount.</p></li>
<li><p>Use the provided form and note your estimate for each item in red ink. Put your name on the form and the name of the beach.</p></li>
<li><p>At the end of the litter survey note what you found for each item.</p></li>
</ol>
<p>After the survey we will compare what we found to what we though we might find and the predicted amount using the model that was explained in the previous section.</p>
</div>
<div class="section" id="semester-project">
<h3><span class="section-number">3.1.5. </span>Semester project<a class="headerlink" href="#semester-project" title="Permalink to this heading">#</a></h3>
<p>The semester project (if you choose to do it) is about documenting the process of updating the models and accessing data. It could be a narrated screencast. Something that next years class will consult. For those who are interested in data-science or application development we would be using python, R, Git and Annaconda.</p>
<p>Specifically we would be adding survey results from this years experience:</p>
<ol class="arabic simple">
<li><p>The results for Gfoams</p></li>
<li><p>The reults for Plage de Pélican</p></li>
</ol>
<p>However, if you have done a data-science course or if you have some experience with application development you might find this an easy project that will allow you to demonstrate those skills and some creativity. Those that know how to use Git and Annaconda will find this fairly easy.</p>
</div>
</div>
<div class="section" id="summary-of-previous-results">
<span id="data-context"></span><h2><span class="section-number">3.2. </span>Summary of previous results<a class="headerlink" href="#summary-of-previous-results" title="Permalink to this heading">#</a></h2>
<p><strong>Lake Geneva sample totals</strong></p>
<p>The total pcs/m for all surveys is given in figure 1 and figure 2. Samples after May 2021 are considered separately, this is a new six year sampling period for the lake.  The distribution of the sample totals is given in table 2.</p>
<div class="figure align-default" id="lac-leman-cities">
<img alt="_images/lac-leman_city_labels.jpeg" src="_images/lac-leman_city_labels.jpeg" />
<p class="caption"><span class="caption-number">Fig. 3.1 </span><span class="caption-text">Previous survey results from Lake Geneva</span><a class="headerlink" href="#lac-leman-cities" title="Permalink to this image">#</a></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summ_data</span> <span class="o">=</span> <span class="n">cbd</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summ_data</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">use_groups_i</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;ug&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">abbrev_use_g</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">summ_data</span><span class="p">[</span><span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Personal consumption&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">summ_data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">sd_x</span> <span class="o">=</span> <span class="n">summ_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;doy&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<span class="n">sd_x_sp</span> <span class="o">=</span> <span class="n">sd_x</span><span class="p">[</span><span class="n">sd_x</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;Saint-Sulpice (VD)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;loc_date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;doy&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span>

<span class="n">trg</span> <span class="o">=</span> <span class="n">summ_data</span><span class="p">[</span><span class="n">summ_data</span><span class="o">.</span><span class="n">Project</span> <span class="o">==</span> <span class="s2">&quot;before may 2021&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">tst</span> <span class="o">=</span> <span class="n">summ_data</span><span class="p">[</span><span class="n">summ_data</span><span class="o">.</span><span class="n">Project</span> <span class="o">==</span> <span class="s2">&quot;after may 2021&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">trg_c</span><span class="p">,</span> <span class="n">tst_c</span> <span class="o">=</span> <span class="n">trg</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span> <span class="n">tst</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">trg_lc</span><span class="p">,</span> <span class="n">tst_lc</span> <span class="o">=</span> <span class="n">trg</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span> <span class="n">tst</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">trg_q</span><span class="p">,</span> <span class="n">tst_q</span> <span class="o">=</span> <span class="n">trg</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">tst</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">data_magnitude</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;before may 2021&quot;</span><span class="p">:</span><span class="n">trg_c</span><span class="p">,</span> <span class="s2">&quot;after may 2021&quot;</span><span class="p">:</span><span class="n">tst_c</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;before may 2021&quot;</span><span class="p">:</span><span class="n">trg_lc</span><span class="p">,</span> <span class="s2">&quot;after may 2021&quot;</span><span class="p">:</span><span class="n">tst_lc</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;before may 2021&quot;</span><span class="p">:</span><span class="n">trg_q</span><span class="p">,</span> <span class="s2">&quot;after may 2021&quot;</span><span class="p">:</span><span class="n">tst_q</span><span class="p">}</span>
    
<span class="p">]</span>

<span class="n">cities_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="o">*</span><span class="n">trg</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="o">*</span><span class="n">tst</span><span class="o">.</span><span class="n">city</span><span class="o">.</span><span class="n">unique</span><span class="p">()]))</span>
<span class="n">n_ind_cities</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cities_set</span><span class="p">)</span>

<span class="n">caption</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;The number of different locations and cities for the data. Note that there are </span><span class="si">{</span><span class="n">n_ind_cities</span><span class="si">}</span><span class="s1"> different municipalitites in all.&#39;</span>

<span class="n">data_summ_q</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_magnitude</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Number of cities&quot;</span><span class="p">,</span> <span class="s2">&quot;Number of locations&quot;</span><span class="p">,</span> <span class="s2">&quot;Total objects&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
<span class="n">data_summ_q</span> <span class="o">=</span> <span class="n">data_summ_q</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">table_large_font</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
<span class="n">styled</span> <span class="o">=</span> <span class="n">data_summ_q</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[[</span><span class="s1">&#39;Total objects&#39;</span><span class="p">],</span> <span class="p">:])</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;data-summ-q3&quot;</span><span class="p">,</span> <span class="n">styled</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># all the data by date</span>
<span class="n">the_99th_percentile</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">sd_x</span><span class="p">[</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="mf">.99</span><span class="p">)</span>
<span class="n">px</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.dpi&#39;</span><span class="p">]</span>  <span class="c1"># pixel in inches</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="o">*</span><span class="n">px</span><span class="p">,</span><span class="mi">500</span><span class="o">*</span><span class="n">px</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sd_x</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;lac léman&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sd_x_sp</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;solid-waste-team&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">the_99th_percentile</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;testing_training_chrono_2&quot;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># all the data day of year</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="o">*</span><span class="n">px</span><span class="p">,</span> <span class="mi">500</span><span class="o">*</span><span class="n">px</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sd_x</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;doy&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;lac léman&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sd_x_sp</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;doy&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;solid-waste-team&quot;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">the_99th_percentile</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Day of the year&quot;</span><span class="p">)</span>
<span class="n">glue</span><span class="p">(</span><span class="s1">&#39;testing_training_doy_2&#39;</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">testing_vals</span><span class="o">=</span> <span class="n">sd_x</span><span class="p">[</span><span class="n">sd_x</span><span class="o">.</span><span class="n">Project</span> <span class="o">==</span> <span class="s2">&quot;after may 2021&quot;</span><span class="p">][</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">training_vals</span> <span class="o">=</span> <span class="n">sd_x</span><span class="p">[</span><span class="n">sd_x</span><span class="o">.</span><span class="n">Project</span> <span class="o">==</span> <span class="s2">&quot;before may 2021&quot;</span><span class="p">][</span><span class="s1">&#39;pcs/m&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>


<span class="n">train_quantiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">training_vals</span><span class="p">,</span> <span class="n">some_quants</span><span class="p">)</span>
<span class="n">test_quantiles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">testing_vals</span><span class="p">,</span> <span class="n">some_quants</span><span class="p">)</span>

<span class="n">training_testing_summary</span> <span class="o">=</span> <span class="n">training_testing_compare</span><span class="p">(</span><span class="n">testing_vals</span><span class="p">,</span> <span class="n">training_vals</span><span class="p">,</span> <span class="n">test_quantiles</span><span class="p">,</span> <span class="n">train_quantiles</span><span class="p">)</span>
<span class="n">caption</span> <span class="o">=</span> <span class="s2">&quot;The observed values from the training and testing data. Remark that the testing data is only 22</span><span class="si">% o</span><span class="s2">f all the data. This is because we are only in the first year of a six year sampling period&quot;</span>
<span class="n">sum_table</span> <span class="o">=</span> <span class="n">training_testing_summary</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
<span class="n">sum_table</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.0f}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">IndexSlice</span><span class="p">[[</span><span class="s1">&#39;Number of samples&#39;</span><span class="p">],</span> <span class="p">:])</span>
<span class="n">glue</span><span class="p">(</span><span class="s2">&quot;data-summary_2&quot;</span><span class="p">,</span> <span class="n">sum_table</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Figure 1, Table 2</p></th>
<th class="text-center head"><p>Table 3, Figure 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><img alt="_images/7ab4e526755b1bd0c125af402f84168bdfa710d48fd34fff7e3f01fe1588fb3b.png" src="_images/7ab4e526755b1bd0c125af402f84168bdfa710d48fd34fff7e3f01fe1588fb3b.png" /></p></td>
<td class="text-center"><p><span class="output text_html"><style type="text/css">
#T_4afd1 tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_4afd1 tr:nth-child(odd) {
  background: #FFF;
}
#T_4afd1 tr {
  font-size: 14px;
  padding: 12px;
}
#T_4afd1 th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_4afd1 caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_4afd1">
  <caption>The observed values from the training and testing data. Remark that the testing data is only 22% of all the data. This is because we are only in the first year of a six year sampling period</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_4afd1_level0_col0" class="col_heading level0 col0" >before may 2021</th>
      <th id="T_4afd1_level0_col1" class="col_heading level0 col1" >after may 2021</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_4afd1_level0_row0" class="row_heading level0 row0" >weight all samples</th>
      <td id="T_4afd1_row0_col0" class="data row0 col0" >0.78</td>
      <td id="T_4afd1_row0_col1" class="data row0 col1" >0.22</td>
    </tr>
    <tr>
      <th id="T_4afd1_level0_row1" class="row_heading level0 row1" >Number of samples</th>
      <td id="T_4afd1_row1_col0" class="data row1 col0" >263</td>
      <td id="T_4afd1_row1_col1" class="data row1 col1" >73</td>
    </tr>
    <tr>
      <th id="T_4afd1_level0_row2" class="row_heading level0 row2" >Median</th>
      <td id="T_4afd1_row2_col0" class="data row2 col0" >3.47</td>
      <td id="T_4afd1_row2_col1" class="data row2 col1" >2.28</td>
    </tr>
    <tr>
      <th id="T_4afd1_level0_row3" class="row_heading level0 row3" >Average</th>
      <td id="T_4afd1_row3_col0" class="data row3 col0" >6.13</td>
      <td id="T_4afd1_row3_col1" class="data row3 col1" >3.25</td>
    </tr>
    <tr>
      <th id="T_4afd1_level0_row4" class="row_heading level0 row4" >25th percentile</th>
      <td id="T_4afd1_row4_col0" class="data row4 col0" >1.52</td>
      <td id="T_4afd1_row4_col1" class="data row4 col1" >0.78</td>
    </tr>
    <tr>
      <th id="T_4afd1_level0_row5" class="row_heading level0 row5" >75th percentile</th>
      <td id="T_4afd1_row5_col0" class="data row5 col0" >6.69</td>
      <td id="T_4afd1_row5_col1" class="data row5 col1" >4.31</td>
    </tr>
  </tbody>
</table>
</span></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><span class="output text_html"><style type="text/css">
#T_91665 tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_91665 tr:nth-child(odd) {
  background: #FFF;
}
#T_91665 tr {
  font-size: 14px;
  padding: 12px;
}
#T_91665 th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_91665 caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_91665">
  <caption>The number of different locations and cities for the data. Note that there are 31 different municipalitites in all.</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_91665_level0_col0" class="col_heading level0 col0" >before may 2021</th>
      <th id="T_91665_level0_col1" class="col_heading level0 col1" >after may 2021</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_91665_level0_row0" class="row_heading level0 row0" >Number of cities</th>
      <td id="T_91665_row0_col0" class="data row0 col0" >21</td>
      <td id="T_91665_row0_col1" class="data row0 col1" >19</td>
    </tr>
    <tr>
      <th id="T_91665_level0_row1" class="row_heading level0 row1" >Number of locations</th>
      <td id="T_91665_row1_col0" class="data row1 col0" >48</td>
      <td id="T_91665_row1_col1" class="data row1 col1" >23</td>
    </tr>
    <tr>
      <th id="T_91665_level0_row2" class="row_heading level0 row2" >Total objects</th>
      <td id="T_91665_row2_col0" class="data row2 col0" >57,623</td>
      <td id="T_91665_row2_col1" class="data row2 col1" >14,703</td>
    </tr>
  </tbody>
</table>
</span></p></td>
<td class="text-center"><p><img alt="_images/42efa5581ec0d4368d53646b56f3c2156ed2cacd62a0993edb31534dbf692b24.png" src="_images/42efa5581ec0d4368d53646b56f3c2156ed2cacd62a0993edb31534dbf692b24.png" /></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sampler_from_multinomial</span><span class="p">(</span><span class="n">normed</span><span class="p">,</span> <span class="n">xrange</span><span class="p">,</span> <span class="n">nsamples</span><span class="p">):</span>
    
    <span class="n">choose</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
    <span class="n">nunique</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">normed</span><span class="p">)</span>
    <span class="n">norm_nunique</span> <span class="o">=</span> <span class="n">nunique</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">nunique</span><span class="p">)</span>
    <span class="n">found</span> <span class="o">=</span> <span class="n">choose</span><span class="o">.</span><span class="n">multinomial</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">pvals</span><span class="o">=</span><span class="n">norm_nunique</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">nsamples</span><span class="p">)</span>
    <span class="n">ft</span> <span class="o">=</span> <span class="n">found</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">asum</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ft</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">asum</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">samples</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">choices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">normed</span> <span class="o">==</span> <span class="n">nunique</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">samps</span> <span class="o">=</span> <span class="n">choose</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">asum</span><span class="p">)</span>
            <span class="n">samples</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">xrange</span><span class="p">[</span><span class="n">samps</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">samples</span><span class="p">,</span> <span class="n">nunique</span><span class="p">,</span> <span class="n">norm_nunique</span><span class="p">,</span> <span class="n">ft</span>

<span class="k">def</span> <span class="nf">period_pieces</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="c1"># the results in pieces per meter for one code from a subset of data</span>
    <span class="n">date_mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">start</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">period_one</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">date_mask</span><span class="p">]</span>
    <span class="n">pone_pcs</span> <span class="o">=</span> <span class="n">period_one</span><span class="o">.</span><span class="n">pcs_m</span><span class="o">.</span><span class="n">values</span>

    <span class="k">return</span> <span class="n">pone_pcs</span>

<span class="k">def</span> <span class="nf">period_k_and_n</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">xrange</span><span class="p">,</span> <span class="n">add_one</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

    <span class="n">pone_k</span> <span class="o">=</span> <span class="p">[(</span><span class="n">data</span> <span class="o">&gt;=</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">]</span>
    <span class="n">pone_notk</span> <span class="o">=</span> <span class="p">[(</span><span class="n">data</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">add_one</span><span class="p">:</span>
        <span class="c1"># if the use is for beta dist. This is the same</span>
        <span class="c1"># as mulitplying the likelihood * uninform prior (0.5) or beta(1,1)</span>
        <span class="n">pone_k_n_minus_k</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pone_k</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pone_k_n_minus_k</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">pone_k</span><span class="p">]</span>
        
    

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pone_k</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pone_notk</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pone_k_n_minus_k</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">period_beta</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
    
         
    <span class="k">return</span> <span class="n">beta</span><span class="p">(</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
        

<span class="k">def</span> <span class="nf">current_possible_prior_locations</span><span class="p">(</span><span class="n">landuse</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">attribute</span><span class="p">):</span>    

    <span class="c1"># indentify the magnitude(s) of the attribute of interest from the</span>
    <span class="c1"># locations in the current data there may be more than one, in this </span>
    <span class="c1"># example we use all the possible magnitudes for the attribute</span>
    <span class="c1"># locations = data[data.city == city].location.unique()</span>

    <span class="c1"># magnitudes for the attribute from all the locations in the municipality</span>
    <span class="n">moa</span> <span class="o">=</span> <span class="n">magnitude_of_attribute</span> <span class="o">=</span> <span class="n">landuse</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">locations</span><span class="p">][</span><span class="n">attribute</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>

    <span class="c1"># identify locations that have the same attribute by magnitude of attribute</span>
    <span class="n">possible_locations</span> <span class="o">=</span> <span class="n">landuse</span><span class="p">[</span><span class="n">landuse</span><span class="p">[</span><span class="n">attribute</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">moa</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>

    <span class="c1"># remove the locations that are in the likelihood function</span>
    <span class="n">prior_locations</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">possible_locations</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">locations</span><span class="p">,</span> <span class="n">possible_locations</span><span class="p">,</span> <span class="n">prior_locations</span>


<span class="k">def</span> <span class="nf">make_expected</span><span class="p">(</span><span class="n">lh_tuple</span><span class="p">,</span> <span class="n">prior_tuple</span><span class="p">,</span> <span class="n">xrange</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">betas</span><span class="o">=</span><span class="p">[]</span>
    <span class="c1"># print(lh_tuple, prior_tuple)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xrange</span><span class="p">)):</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="n">prior_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">betai</span> <span class="o">=</span> <span class="n">prior_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">success</span> <span class="o">=</span> <span class="n">lh_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">lh_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">lh_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> 
        <span class="n">numerator</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">+</span> <span class="n">success</span>
        <span class="n">denominator</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">+</span> <span class="n">betai</span> <span class="o">+</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">numerator</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">numerator</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">abeta</span> <span class="o">=</span> <span class="n">beta</span><span class="p">(</span><span class="n">numerator</span><span class="p">,</span> <span class="p">(</span><span class="n">betai</span> <span class="o">+</span> <span class="n">lh_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">lh_tuple</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="n">betas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abeta</span><span class="p">)</span>
        <span class="c1"># print(alpha, betai, success, numerator, n, denominator)</span>
        <span class="k">if</span> <span class="n">numerator</span> <span class="o">&gt;=</span> <span class="n">denominator</span><span class="p">:</span>
            <span class="n">numerator</span> <span class="o">=</span> <span class="n">denominator</span><span class="o">-</span><span class="mi">1</span>
            
        <span class="n">expected</span> <span class="o">=</span> <span class="n">numerator</span><span class="o">/</span><span class="n">denominator</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">res</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">betas</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">an_xrange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comb_lu_agg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;resources/data/u_comb_lu_cover_street_rivers.csv&quot;</span><span class="p">)</span>

<span class="n">lu_scaled</span> <span class="o">=</span> <span class="n">comb_lu_agg</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;use&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;scaled&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;slug&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">lu_magnitude</span> <span class="o">=</span> <span class="n">comb_lu_agg</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;use&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;magnitude&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;slug&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">lu_binned</span> <span class="o">=</span> <span class="n">comb_lu_agg</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;use&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;binned&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;slug&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># not_these = [&#39;amphion&#39;, &#39;anthy&#39;, &#39;excenevex&#39;, &#39;lugrin&#39;, &#39;meillerie&#39;, &#39;saint-disdille&#39;, &#39;tougues&#39;]</span>
<span class="n">merge_locations</span> <span class="o">=</span> <span class="n">cbd</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">cbdu</span> <span class="o">=</span> <span class="n">cbd</span><span class="p">[</span><span class="o">~</span><span class="n">cbd</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">not_these</span><span class="p">)]</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">lu_scaled</span><span class="p">[</span><span class="n">lu_scaled</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">merge_locations</span> <span class="p">)],</span> <span class="n">left_on</span><span class="o">=</span><span class="s2">&quot;slug&quot;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;many_to_one&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>

<span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cbdu</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">use_groups_i</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;ug&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">abbrev_use_g</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">cbdu</span><span class="p">[</span><span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;use group&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Personal consumption&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">cbdu</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">attribute_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lu_scaled</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Geroell&quot;</span><span class="p">,</span> <span class="s2">&quot;Stausee&quot;</span><span class="p">,</span> <span class="s2">&quot;See&quot;</span><span class="p">,</span> <span class="s2">&quot;Sumpf&quot;</span><span class="p">,</span> <span class="s2">&quot;Stadtzentr&quot;</span><span class="p">,</span> <span class="s2">&quot;Fels&quot;</span><span class="p">]]</span>
<span class="n">work_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cbdu</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Geroell&quot;</span><span class="p">,</span> <span class="s2">&quot;Stausee&quot;</span><span class="p">,</span> <span class="s2">&quot;See&quot;</span><span class="p">,</span> <span class="s2">&quot;Sumpf&quot;</span><span class="p">,</span> <span class="s2">&quot;Stadtzentr&quot;</span><span class="p">,</span> <span class="s2">&quot;Fels&quot;</span><span class="p">]]</span>
<span class="n">cbdu</span> <span class="o">=</span> <span class="n">cbdu</span><span class="p">[</span><span class="n">work_columns</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">cbdu</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;pcs/m&quot;</span><span class="p">:</span><span class="s2">&quot;pcs_m&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="expected-survey-results-saint-sulpice">
<h2><span class="section-number">3.3. </span>Expected survey results Saint Sulpice<a class="headerlink" href="#expected-survey-results-saint-sulpice" title="Permalink to this heading">#</a></h2>
<div class="section" id="predicted-values-using-empirical-bayes-method">
<h3><span class="section-number">3.3.1. </span>Predicted values using empirical Bayes method<a class="headerlink" href="#predicted-values-using-empirical-bayes-method" title="Permalink to this heading">#</a></h3>
<p>The method proposed in chapter two produced the following expected survey results for October 5, 2023 at Saint Sulpice:</p>
<!-- |     Figure 11, Table 11  |    Table 12, Figure 12       | 
|:------------------------:|:----------------------------:|
|{glue:}`ssp-outlook-2024` | {glue:}`ssp-2024-meds`|
|{glue:}`ssp-summary` | {glue:}`ssp-predicted_samples`| -->
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">city</span> <span class="o">=</span>  <span class="s1">&#39;Saint-Sulpice (VD)&#39;</span>
<span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s2">&quot;2015-11-15&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-05-31&quot;</span>
<span class="n">index_range</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">xrange</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">*</span><span class="n">index_range</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mf">.01</span><span class="p">)</span>
<span class="n">uninformed_tuple</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">])</span>


<span class="n">g_resa</span> <span class="o">=</span> <span class="n">cbdu</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">g_resa</span> <span class="o">=</span> <span class="n">g_resa</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;loc_date&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;slug&#39;</span><span class="p">,</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;Project&#39;</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;pcs_m&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span>
<span class="n">g_resadt</span> <span class="o">=</span> <span class="n">g_resa</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;loc_date&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;slug&#39;</span><span class="p">,</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;Project&#39;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;pcs_m&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span>

<span class="c1"># define the prior, likelihood data and likelihood locations</span>
<span class="n">posterior_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">xrange</span><span class="p">)</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">toi</span><span class="p">:</span>
    
    <span class="c1"># code_index = 1</span>
    <span class="n">city_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">attribute_index</span> <span class="o">=</span> <span class="mi">2</span>
    
    <span class="n">this_code</span> <span class="o">=</span>  <span class="n">code</span>
    <span class="n">this_attribute</span> <span class="o">=</span> <span class="n">attribute_columns</span><span class="p">[</span><span class="n">attribute_index</span><span class="p">]</span>
    <span class="n">this_city</span> <span class="o">=</span> <span class="n">cois</span><span class="p">[</span><span class="n">city_index</span><span class="p">]</span>
    
    <span class="n">prior_data</span> <span class="o">=</span> <span class="n">g_resa</span><span class="p">[(</span><span class="n">g_resa</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">this_code</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">g_resa</span><span class="o">.</span><span class="n">city</span> <span class="o">!=</span> <span class="n">city</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">g_resa</span><span class="o">.</span><span class="n">Project</span> <span class="o">==</span><span class="s2">&quot;before may 2021&quot;</span><span class="p">)]</span>
    <span class="n">lh_data</span> <span class="o">=</span> <span class="n">g_resa</span><span class="p">[(</span><span class="n">g_resa</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="n">this_code</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">g_resa</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="n">city</span><span class="p">)]</span>

    <span class="c1"># here the locations from Saint Sulpice are indentified</span>
    <span class="n">lh_locations</span> <span class="o">=</span> <span class="n">lh_data</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

    <span class="c1"># remove any location with no land-use data</span>
    <span class="n">regions</span> <span class="o">=</span> <span class="n">lac_leman_regions</span><span class="p">[</span><span class="o">~</span><span class="n">lac_leman_regions</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">not_these</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="c1"># identify the region of interest</span>
    <span class="n">lh_regions</span> <span class="o">=</span> <span class="n">regions</span><span class="p">[</span><span class="n">regions</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lh_locations</span><span class="p">)]</span><span class="o">.</span><span class="n">alabel</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    <span class="c1"># retireve any other survey locations in the region</span>
    <span class="n">regional_locations</span> <span class="o">=</span> <span class="n">regions</span><span class="p">[</span><span class="n">regions</span><span class="o">.</span><span class="n">alabel</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">lh_regions</span><span class="p">)]</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    <span class="c1"># retrieve the land use values of all locations in the region</span>
    <span class="n">land_use_data_of_interest</span> <span class="o">=</span> <span class="n">lu_binned</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">regional_locations</span><span class="p">]</span>

    <span class="c1"># the locations from Saint Sulpice as well as regional locations are passed</span>
    <span class="c1"># to the current_possible_prior_locations method. The land use values are</span>
    <span class="c1"># compared and the locations with similar land use values are identified.</span>
    <span class="n">locations</span><span class="p">,</span> <span class="n">possible_locations</span><span class="p">,</span> <span class="n">prior_locations</span> <span class="o">=</span> <span class="n">current_possible_prior_locations</span><span class="p">(</span><span class="n">land_use_data_of_interest</span><span class="p">,</span> <span class="n">lh_locations</span><span class="p">,</span> <span class="n">this_attribute</span><span class="p">)</span>
    
    <span class="n">prior_args</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;prior_data&#39;</span><span class="p">:</span><span class="n">prior_data</span><span class="p">[</span><span class="n">prior_data</span><span class="o">.</span><span class="n">slug</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">prior_locations</span><span class="p">)],</span>
        <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span>
        <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="n">end</span><span class="p">,</span>
        <span class="s1">&#39;xrange&#39;</span><span class="p">:</span><span class="n">xrange</span><span class="p">,</span>
        <span class="s1">&#39;uninformed_prior&#39;</span><span class="p">:</span> <span class="n">uninformed_tuple</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># grid approximation of the prior</span>
    <span class="n">grid_prior</span><span class="p">,</span> <span class="n">beta_prior</span><span class="p">,</span> <span class="n">prior_k_n</span><span class="p">,</span> <span class="n">prior_df</span><span class="p">,</span> <span class="n">pcs</span> <span class="o">=</span> <span class="n">prior_distributions</span><span class="p">(</span><span class="o">**</span><span class="n">prior_args</span><span class="p">)</span>
    
    <span class="n">posterior_args</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;lh_data&#39;</span><span class="p">:</span><span class="n">lh_data</span><span class="p">,</span>
        <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span>
        <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="s2">&quot;2022-12-31&quot;</span><span class="p">,</span>
        <span class="s1">&#39;un_informed&#39;</span><span class="p">:</span> <span class="n">uninformed_tuple</span><span class="p">,</span>
        <span class="s1">&#39;informed_prior&#39;</span><span class="p">:</span> <span class="n">prior_k_n</span>
    <span class="p">}</span>
    
    <span class="c1"># grid approximation of posterior</span>
    <span class="n">informed</span><span class="p">,</span> <span class="n">uninformed</span><span class="p">,</span> <span class="n">beta_p</span><span class="p">,</span> <span class="n">lh_pcs</span> <span class="o">=</span> <span class="n">posterior_distribution</span><span class="p">(</span><span class="o">**</span><span class="n">posterior_args</span><span class="p">)</span>
    
    <span class="c1"># the quantiles from the observed data</span>
    <span class="n">prior_quants</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">some_quants</span><span class="p">)</span>
    <span class="n">post_quants</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">lh_pcs</span><span class="p">,</span> <span class="n">some_quants</span><span class="p">)</span>
    
    <span class="c1"># data frame with normalized results</span>
    <span class="n">post_df</span> <span class="o">=</span> <span class="n">make_results_df</span><span class="p">(</span><span class="n">prior_df</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">informed</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;Informed post&quot;</span><span class="p">,</span> <span class="n">source_norm</span><span class="o">=</span><span class="s2">&quot;Ip_n&quot;</span><span class="p">)</span>
    <span class="n">post_df</span> <span class="o">=</span> <span class="n">make_results_df</span><span class="p">(</span><span class="n">post_df</span><span class="p">,</span> <span class="n">uninformed</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;Uninformed post&quot;</span><span class="p">,</span> <span class="n">source_norm</span><span class="o">=</span><span class="s2">&quot;Un_n&quot;</span><span class="p">)</span>
    
    <span class="c1"># samples from posterior </span>
    <span class="n">sim_2024</span> <span class="o">=</span> <span class="n">sampler_from_multinomial</span><span class="p">(</span><span class="n">post_df</span><span class="p">[</span><span class="s2">&quot;Ip_n&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">xrange</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">pcs</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">lh_pcs</span><span class="p">))</span>
    <span class="n">sim_quants</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">sim_2024</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">some_quants</span><span class="p">)</span>
    
    
    <span class="n">predictions</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">this_code</span><span class="p">:</span><span class="n">sim_quants</span><span class="p">})</span>
    <span class="n">posterior_df</span><span class="p">[</span><span class="n">this_code</span><span class="p">]</span><span class="o">=</span><span class="n">informed</span>

<span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="si">{:.0%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">some_quants</span><span class="p">]</span>
<span class="n">pred_quants</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">predictions</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;G112&quot;</span><span class="p">,</span> <span class="s2">&quot;G27&quot;</span><span class="p">,</span> <span class="s2">&quot;G30&quot;</span><span class="p">,</span> <span class="s2">&quot;G32&quot;</span><span class="p">,</span> <span class="s2">&quot;G67&quot;</span><span class="p">,</span> <span class="s2">&quot;G70&quot;</span><span class="p">,</span> <span class="s2">&quot;G95&quot;</span><span class="p">,</span> <span class="s2">&quot;G96&quot;</span><span class="p">,</span> <span class="s2">&quot;Gcaps&quot;</span><span class="p">,</span> <span class="s2">&quot;Gfrags&quot;</span><span class="p">]</span>
<span class="n">pred_quants</span> <span class="o">=</span> <span class="n">pred_quants</span><span class="p">[</span><span class="n">objects</span><span class="p">]</span>
<span class="n">caption</span> <span class="o">=</span> <span class="s2">&quot;Table 4: The 94% probability interval of the objects of interest for Saint Sulpice. The median value is used for the predictions&quot;</span>
<span class="n">pred_quants</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">table_large_font</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_0e66b tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_0e66b tr:nth-child(odd) {
  background: #FFF;
}
#T_0e66b tr {
  font-size: 14px;
  padding: 12px;
}
#T_0e66b th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_0e66b caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_0e66b">
  <caption>Table 4: The 94% probability interval of the objects of interest for Saint Sulpice. The median value is used for the predictions</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_0e66b_level0_col0" class="col_heading level0 col0" >G112</th>
      <th id="T_0e66b_level0_col1" class="col_heading level0 col1" >G27</th>
      <th id="T_0e66b_level0_col2" class="col_heading level0 col2" >G30</th>
      <th id="T_0e66b_level0_col3" class="col_heading level0 col3" >G32</th>
      <th id="T_0e66b_level0_col4" class="col_heading level0 col4" >G67</th>
      <th id="T_0e66b_level0_col5" class="col_heading level0 col5" >G70</th>
      <th id="T_0e66b_level0_col6" class="col_heading level0 col6" >G95</th>
      <th id="T_0e66b_level0_col7" class="col_heading level0 col7" >G96</th>
      <th id="T_0e66b_level0_col8" class="col_heading level0 col8" >Gcaps</th>
      <th id="T_0e66b_level0_col9" class="col_heading level0 col9" >Gfrags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_0e66b_level0_row0" class="row_heading level0 row0" >3%</th>
      <td id="T_0e66b_row0_col0" class="data row0 col0" >0.00</td>
      <td id="T_0e66b_row0_col1" class="data row0 col1" >0.00</td>
      <td id="T_0e66b_row0_col2" class="data row0 col2" >0.00</td>
      <td id="T_0e66b_row0_col3" class="data row0 col3" >0.00</td>
      <td id="T_0e66b_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_0e66b_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_0e66b_row0_col6" class="data row0 col6" >0.00</td>
      <td id="T_0e66b_row0_col7" class="data row0 col7" >0.00</td>
      <td id="T_0e66b_row0_col8" class="data row0 col8" >0.00</td>
      <td id="T_0e66b_row0_col9" class="data row0 col9" >0.00</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row1" class="row_heading level0 row1" >25%</th>
      <td id="T_0e66b_row1_col0" class="data row1 col0" >0.00</td>
      <td id="T_0e66b_row1_col1" class="data row1 col1" >0.00</td>
      <td id="T_0e66b_row1_col2" class="data row1 col2" >0.00</td>
      <td id="T_0e66b_row1_col3" class="data row1 col3" >0.01</td>
      <td id="T_0e66b_row1_col4" class="data row1 col4" >0.01</td>
      <td id="T_0e66b_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_0e66b_row1_col6" class="data row1 col6" >0.00</td>
      <td id="T_0e66b_row1_col7" class="data row1 col7" >0.01</td>
      <td id="T_0e66b_row1_col8" class="data row1 col8" >0.03</td>
      <td id="T_0e66b_row1_col9" class="data row1 col9" >0.00</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row2" class="row_heading level0 row2" >48%</th>
      <td id="T_0e66b_row2_col0" class="data row2 col0" >0.03</td>
      <td id="T_0e66b_row2_col1" class="data row2 col1" >0.42</td>
      <td id="T_0e66b_row2_col2" class="data row2 col2" >0.13</td>
      <td id="T_0e66b_row2_col3" class="data row2 col3" >0.04</td>
      <td id="T_0e66b_row2_col4" class="data row2 col4" >0.14</td>
      <td id="T_0e66b_row2_col5" class="data row2 col5" >0.00</td>
      <td id="T_0e66b_row2_col6" class="data row2 col6" >0.30</td>
      <td id="T_0e66b_row2_col7" class="data row2 col7" >0.08</td>
      <td id="T_0e66b_row2_col8" class="data row2 col8" >0.12</td>
      <td id="T_0e66b_row2_col9" class="data row2 col9" >0.35</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row3" class="row_heading level0 row3" >50%</th>
      <td id="T_0e66b_row3_col0" class="data row3 col0" >0.08</td>
      <td id="T_0e66b_row3_col1" class="data row3 col1" >0.45</td>
      <td id="T_0e66b_row3_col2" class="data row3 col2" >0.13</td>
      <td id="T_0e66b_row3_col3" class="data row3 col3" >0.04</td>
      <td id="T_0e66b_row3_col4" class="data row3 col4" >0.16</td>
      <td id="T_0e66b_row3_col5" class="data row3 col5" >0.00</td>
      <td id="T_0e66b_row3_col6" class="data row3 col6" >0.32</td>
      <td id="T_0e66b_row3_col7" class="data row3 col7" >0.09</td>
      <td id="T_0e66b_row3_col8" class="data row3 col8" >0.14</td>
      <td id="T_0e66b_row3_col9" class="data row3 col9" >0.41</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row4" class="row_heading level0 row4" >52%</th>
      <td id="T_0e66b_row4_col0" class="data row4 col0" >0.10</td>
      <td id="T_0e66b_row4_col1" class="data row4 col1" >0.46</td>
      <td id="T_0e66b_row4_col2" class="data row4 col2" >0.13</td>
      <td id="T_0e66b_row4_col3" class="data row4 col3" >0.04</td>
      <td id="T_0e66b_row4_col4" class="data row4 col4" >0.17</td>
      <td id="T_0e66b_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_0e66b_row4_col6" class="data row4 col6" >0.34</td>
      <td id="T_0e66b_row4_col7" class="data row4 col7" >0.09</td>
      <td id="T_0e66b_row4_col8" class="data row4 col8" >0.14</td>
      <td id="T_0e66b_row4_col9" class="data row4 col9" >0.50</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row5" class="row_heading level0 row5" >75%</th>
      <td id="T_0e66b_row5_col0" class="data row5 col0" >0.54</td>
      <td id="T_0e66b_row5_col1" class="data row5 col1" >0.66</td>
      <td id="T_0e66b_row5_col2" class="data row5 col2" >0.48</td>
      <td id="T_0e66b_row5_col3" class="data row5 col3" >0.06</td>
      <td id="T_0e66b_row5_col4" class="data row5 col4" >0.31</td>
      <td id="T_0e66b_row5_col5" class="data row5 col5" >0.04</td>
      <td id="T_0e66b_row5_col6" class="data row5 col6" >0.52</td>
      <td id="T_0e66b_row5_col7" class="data row5 col7" >0.12</td>
      <td id="T_0e66b_row5_col8" class="data row5 col8" >0.23</td>
      <td id="T_0e66b_row5_col9" class="data row5 col9" >0.82</td>
    </tr>
    <tr>
      <th id="T_0e66b_level0_row6" class="row_heading level0 row6" >97%</th>
      <td id="T_0e66b_row6_col0" class="data row6 col0" >1.39</td>
      <td id="T_0e66b_row6_col1" class="data row6 col1" >1.29</td>
      <td id="T_0e66b_row6_col2" class="data row6 col2" >0.91</td>
      <td id="T_0e66b_row6_col3" class="data row6 col3" >0.11</td>
      <td id="T_0e66b_row6_col4" class="data row6 col4" >2.83</td>
      <td id="T_0e66b_row6_col5" class="data row6 col5" >0.09</td>
      <td id="T_0e66b_row6_col6" class="data row6 col6" >1.00</td>
      <td id="T_0e66b_row6_col7" class="data row6 col7" >0.22</td>
      <td id="T_0e66b_row6_col8" class="data row6 col8" >0.41</td>
      <td id="T_0e66b_row6_col9" class="data row6 col9" >2.75</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Recall that the previous results from Saint Sulpice are not used to make the predictions. Only locations in the same region with similar land-use characteristics are used.</p>
</div>
<div class="section" id="estimates-from-participants">
<h3><span class="section-number">3.3.2. </span>Estimates from participants<a class="headerlink" href="#estimates-from-participants" title="Permalink to this heading">#</a></h3>
<p>After a classroom discusion and review of the previous years results (but not the predicted results) the participants made an estimate of how many they expect to find of each item of interest.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">length_p</span> <span class="o">=</span> <span class="mf">49.3</span>

<span class="n">estimated_p</span> <span class="o">=</span><span class="p">[</span>
    <span class="p">[</span><span class="mf">.16</span><span class="p">,</span> <span class="mf">1.12</span><span class="p">,</span> <span class="mf">.54</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.30</span><span class="p">,</span> <span class="mf">.08</span><span class="p">,</span> <span class="mf">.39</span><span class="p">,</span> <span class="mf">.04</span><span class="p">,</span> <span class="mf">.31</span><span class="p">,</span> <span class="mf">1.34</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">.6</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mf">.03</span><span class="p">,</span> <span class="mf">.8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1.34</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>    
<span class="p">]</span>

<span class="k">def</span> <span class="nf">make_rows</span><span class="p">(</span><span class="n">estimated</span><span class="p">,</span> <span class="n">objects</span><span class="p">):</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">estimated</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="p">{</span><span class="n">objects</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="n">x</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">)}</span>
        <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rows</span>

<span class="n">found_p</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">266</span><span class="p">]</span>
<span class="n">found_pm</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">length_p</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">found_p</span><span class="p">]</span>

<span class="n">pierrette_rows</span> <span class="o">=</span> <span class="n">make_rows</span><span class="p">(</span><span class="n">estimated_p</span><span class="p">,</span> <span class="n">objects</span><span class="p">)</span>
<span class="n">pierrette</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pierrette_rows</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">found_pel</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">266</span><span class="p">]</span>
<span class="n">found_pelm</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">length_p</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">found_p</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">estimated_td</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">.16</span><span class="p">,</span> <span class="mf">1.12</span><span class="p">,</span> <span class="mf">.54</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.30</span><span class="p">,</span> <span class="mf">.08</span><span class="p">,</span> <span class="mf">.39</span><span class="p">,</span> <span class="mf">.04</span><span class="p">,</span> <span class="mf">.31</span><span class="p">,</span> <span class="mf">1.34</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.15</span><span class="p">,</span> <span class="mf">.57</span><span class="p">,</span><span class="mf">.24</span><span class="p">,</span><span class="mf">.08</span><span class="p">,</span><span class="mf">.05</span><span class="p">,</span><span class="mf">.05</span><span class="p">,</span><span class="mf">.16</span><span class="p">,</span><span class="mf">.1</span><span class="p">,</span><span class="mf">.14</span><span class="p">,</span> <span class="mf">.22</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.05</span><span class="p">,</span> <span class="mf">.8</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.02</span><span class="p">,</span> <span class="mf">.15</span><span class="p">,</span> <span class="mf">.04</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mf">.25</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.1</span><span class="p">,</span><span class="mf">.35</span><span class="p">,</span><span class="mf">.15</span><span class="p">,</span><span class="mf">.03</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mf">.06</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mf">.15</span><span class="p">,</span> <span class="mf">.5</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.07</span><span class="p">,</span> <span class="mf">.15</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.02</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.04</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mf">.08</span><span class="p">,</span> <span class="mf">.12</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">.15</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mf">.3</span><span class="p">,</span> <span class="mf">.03</span><span class="p">,</span> <span class="mf">.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.05</span><span class="p">,</span> <span class="mf">.2</span><span class="p">,</span> <span class="mf">.2</span><span class="p">]</span>
<span class="p">]</span>

<span class="n">length_td</span><span class="o">=</span><span class="mf">16.5</span>

<span class="n">found_td</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">179</span><span class="p">]</span>
<span class="n">found_tdm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="o">/</span><span class="n">length_td</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">found_td</span><span class="p">])</span>

<span class="n">tiger_duck_rows</span> <span class="o">=</span> <span class="n">make_rows</span><span class="p">(</span><span class="n">estimated_td</span><span class="p">,</span> <span class="n">objects</span><span class="p">)</span>
<span class="n">tiger_duck</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tiger_duck_rows</span><span class="p">)</span>

<span class="n">found</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">found_tdm</span><span class="p">,</span> <span class="n">found_pm</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="n">objects</span><span class="p">)</span>
<span class="n">fmelted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">found</span><span class="p">,</span> <span class="n">value_vars</span><span class="o">=</span><span class="n">found</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">fmelted</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;found&quot;</span>

<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">tiger_duck</span><span class="p">,</span> <span class="n">pierrette</span><span class="p">])</span>
<span class="n">caption</span> <span class="o">=</span> <span class="s2">&quot;Table 5: The estimated amount in pcs/meter for each object that the participants expected to find.&quot;</span>
<span class="n">combined</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">combined</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">table_large_font</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_ac8e3 tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_ac8e3 tr:nth-child(odd) {
  background: #FFF;
}
#T_ac8e3 tr {
  font-size: 14px;
  padding: 12px;
}
#T_ac8e3 th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_ac8e3 caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_ac8e3">
  <caption>Table 5: The estimated amount in pcs/meter for each object that the participants expected to find.</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_ac8e3_level0_col0" class="col_heading level0 col0" >G112</th>
      <th id="T_ac8e3_level0_col1" class="col_heading level0 col1" >G27</th>
      <th id="T_ac8e3_level0_col2" class="col_heading level0 col2" >G30</th>
      <th id="T_ac8e3_level0_col3" class="col_heading level0 col3" >G32</th>
      <th id="T_ac8e3_level0_col4" class="col_heading level0 col4" >G67</th>
      <th id="T_ac8e3_level0_col5" class="col_heading level0 col5" >G70</th>
      <th id="T_ac8e3_level0_col6" class="col_heading level0 col6" >G95</th>
      <th id="T_ac8e3_level0_col7" class="col_heading level0 col7" >G96</th>
      <th id="T_ac8e3_level0_col8" class="col_heading level0 col8" >Gcaps</th>
      <th id="T_ac8e3_level0_col9" class="col_heading level0 col9" >Gfrags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_ac8e3_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_ac8e3_row0_col0" class="data row0 col0" >0.16</td>
      <td id="T_ac8e3_row0_col1" class="data row0 col1" >1.12</td>
      <td id="T_ac8e3_row0_col2" class="data row0 col2" >0.54</td>
      <td id="T_ac8e3_row0_col3" class="data row0 col3" >0.05</td>
      <td id="T_ac8e3_row0_col4" class="data row0 col4" >0.30</td>
      <td id="T_ac8e3_row0_col5" class="data row0 col5" >0.08</td>
      <td id="T_ac8e3_row0_col6" class="data row0 col6" >0.39</td>
      <td id="T_ac8e3_row0_col7" class="data row0 col7" >0.04</td>
      <td id="T_ac8e3_row0_col8" class="data row0 col8" >0.31</td>
      <td id="T_ac8e3_row0_col9" class="data row0 col9" >1.34</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_ac8e3_row1_col0" class="data row1 col0" >0.15</td>
      <td id="T_ac8e3_row1_col1" class="data row1 col1" >0.57</td>
      <td id="T_ac8e3_row1_col2" class="data row1 col2" >0.24</td>
      <td id="T_ac8e3_row1_col3" class="data row1 col3" >0.08</td>
      <td id="T_ac8e3_row1_col4" class="data row1 col4" >0.05</td>
      <td id="T_ac8e3_row1_col5" class="data row1 col5" >0.05</td>
      <td id="T_ac8e3_row1_col6" class="data row1 col6" >0.16</td>
      <td id="T_ac8e3_row1_col7" class="data row1 col7" >0.10</td>
      <td id="T_ac8e3_row1_col8" class="data row1 col8" >0.14</td>
      <td id="T_ac8e3_row1_col9" class="data row1 col9" >0.22</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_ac8e3_row2_col0" class="data row2 col0" >0.05</td>
      <td id="T_ac8e3_row2_col1" class="data row2 col1" >0.80</td>
      <td id="T_ac8e3_row2_col2" class="data row2 col2" >0.20</td>
      <td id="T_ac8e3_row2_col3" class="data row2 col3" >0.02</td>
      <td id="T_ac8e3_row2_col4" class="data row2 col4" >0.15</td>
      <td id="T_ac8e3_row2_col5" class="data row2 col5" >0.04</td>
      <td id="T_ac8e3_row2_col6" class="data row2 col6" >0.30</td>
      <td id="T_ac8e3_row2_col7" class="data row2 col7" >0.01</td>
      <td id="T_ac8e3_row2_col8" class="data row2 col8" >0.25</td>
      <td id="T_ac8e3_row2_col9" class="data row2 col9" >1.20</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_ac8e3_row3_col0" class="data row3 col0" >0.10</td>
      <td id="T_ac8e3_row3_col1" class="data row3 col1" >0.35</td>
      <td id="T_ac8e3_row3_col2" class="data row3 col2" >0.15</td>
      <td id="T_ac8e3_row3_col3" class="data row3 col3" >0.03</td>
      <td id="T_ac8e3_row3_col4" class="data row3 col4" >0.05</td>
      <td id="T_ac8e3_row3_col5" class="data row3 col5" >0.01</td>
      <td id="T_ac8e3_row3_col6" class="data row3 col6" >0.06</td>
      <td id="T_ac8e3_row3_col7" class="data row3 col7" >0.10</td>
      <td id="T_ac8e3_row3_col8" class="data row3 col8" >0.15</td>
      <td id="T_ac8e3_row3_col9" class="data row3 col9" >0.50</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_ac8e3_row4_col0" class="data row4 col0" >0.07</td>
      <td id="T_ac8e3_row4_col1" class="data row4 col1" >0.15</td>
      <td id="T_ac8e3_row4_col2" class="data row4 col2" >0.05</td>
      <td id="T_ac8e3_row4_col3" class="data row4 col3" >0.02</td>
      <td id="T_ac8e3_row4_col4" class="data row4 col4" >0.01</td>
      <td id="T_ac8e3_row4_col5" class="data row4 col5" >0.00</td>
      <td id="T_ac8e3_row4_col6" class="data row4 col6" >0.04</td>
      <td id="T_ac8e3_row4_col7" class="data row4 col7" >0.01</td>
      <td id="T_ac8e3_row4_col8" class="data row4 col8" >0.08</td>
      <td id="T_ac8e3_row4_col9" class="data row4 col9" >0.12</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_ac8e3_row5_col0" class="data row5 col0" >0.15</td>
      <td id="T_ac8e3_row5_col1" class="data row5 col1" >0.50</td>
      <td id="T_ac8e3_row5_col2" class="data row5 col2" >0.30</td>
      <td id="T_ac8e3_row5_col3" class="data row5 col3" >0.03</td>
      <td id="T_ac8e3_row5_col4" class="data row5 col4" >0.01</td>
      <td id="T_ac8e3_row5_col5" class="data row5 col5" >0.00</td>
      <td id="T_ac8e3_row5_col6" class="data row5 col6" >0.05</td>
      <td id="T_ac8e3_row5_col7" class="data row5 col7" >0.05</td>
      <td id="T_ac8e3_row5_col8" class="data row5 col8" >0.20</td>
      <td id="T_ac8e3_row5_col9" class="data row5 col9" >0.20</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_ac8e3_row6_col0" class="data row6 col0" >0.16</td>
      <td id="T_ac8e3_row6_col1" class="data row6 col1" >1.12</td>
      <td id="T_ac8e3_row6_col2" class="data row6 col2" >0.54</td>
      <td id="T_ac8e3_row6_col3" class="data row6 col3" >0.05</td>
      <td id="T_ac8e3_row6_col4" class="data row6 col4" >0.30</td>
      <td id="T_ac8e3_row6_col5" class="data row6 col5" >0.08</td>
      <td id="T_ac8e3_row6_col6" class="data row6 col6" >0.39</td>
      <td id="T_ac8e3_row6_col7" class="data row6 col7" >0.04</td>
      <td id="T_ac8e3_row6_col8" class="data row6 col8" >0.31</td>
      <td id="T_ac8e3_row6_col9" class="data row6 col9" >1.34</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_ac8e3_row7_col0" class="data row7 col0" >6.00</td>
      <td id="T_ac8e3_row7_col1" class="data row7 col1" >3.00</td>
      <td id="T_ac8e3_row7_col2" class="data row7 col2" >0.60</td>
      <td id="T_ac8e3_row7_col3" class="data row7 col3" >0.10</td>
      <td id="T_ac8e3_row7_col4" class="data row7 col4" >0.40</td>
      <td id="T_ac8e3_row7_col5" class="data row7 col5" >0.03</td>
      <td id="T_ac8e3_row7_col6" class="data row7 col6" >0.80</td>
      <td id="T_ac8e3_row7_col7" class="data row7 col7" >1.00</td>
      <td id="T_ac8e3_row7_col8" class="data row7 col8" >2.00</td>
      <td id="T_ac8e3_row7_col9" class="data row7 col9" >1.34</td>
    </tr>
    <tr>
      <th id="T_ac8e3_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_ac8e3_row8_col0" class="data row8 col0" >0.40</td>
      <td id="T_ac8e3_row8_col1" class="data row8 col1" >1.50</td>
      <td id="T_ac8e3_row8_col2" class="data row8 col2" >0.30</td>
      <td id="T_ac8e3_row8_col3" class="data row8 col3" >0.10</td>
      <td id="T_ac8e3_row8_col4" class="data row8 col4" >1.10</td>
      <td id="T_ac8e3_row8_col5" class="data row8 col5" >0.01</td>
      <td id="T_ac8e3_row8_col6" class="data row8 col6" >0.50</td>
      <td id="T_ac8e3_row8_col7" class="data row8 col7" >0.20</td>
      <td id="T_ac8e3_row8_col8" class="data row8 col8" >0.40</td>
      <td id="T_ac8e3_row8_col9" class="data row8 col9" >2.00</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="survey-results-october-5-2023-saint-sulpice">
<h2><span class="section-number">3.4. </span>Survey results October 5, 2023 Saint Sulpice<a class="headerlink" href="#survey-results-october-5-2023-saint-sulpice" title="Permalink to this heading">#</a></h2>
<p>After the particpants completed the forms, surveys were conducted at three beaches within the city limits of Saint Sulpice. Only the forms for two beaches were returned.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Table 6: The survey results of the objects of interest on October 5, 2023 in pieces per meter&quot;</span>
<span class="n">found_display</span> <span class="o">=</span> <span class="n">found</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">found_display</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;beach&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;tiger-duck-beach&quot;</span>
<span class="n">found_display</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;beach&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;parc-des-pierrettes&quot;</span>
<span class="n">found_display</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;beach&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">found_display</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">found_display</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">set_table_styles</span><span class="p">(</span><span class="n">table_large_font</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="n">caption</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_208b1 tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_208b1 tr:nth-child(odd) {
  background: #FFF;
}
#T_208b1 tr {
  font-size: 14px;
  padding: 12px;
}
#T_208b1 th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_208b1 caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_208b1">
  <caption>Table 6: The survey results of the objects of interest on October 5, 2023 in pieces per meter</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_208b1_level0_col0" class="col_heading level0 col0" >G112</th>
      <th id="T_208b1_level0_col1" class="col_heading level0 col1" >G27</th>
      <th id="T_208b1_level0_col2" class="col_heading level0 col2" >G30</th>
      <th id="T_208b1_level0_col3" class="col_heading level0 col3" >G32</th>
      <th id="T_208b1_level0_col4" class="col_heading level0 col4" >G67</th>
      <th id="T_208b1_level0_col5" class="col_heading level0 col5" >G70</th>
      <th id="T_208b1_level0_col6" class="col_heading level0 col6" >G95</th>
      <th id="T_208b1_level0_col7" class="col_heading level0 col7" >G96</th>
      <th id="T_208b1_level0_col8" class="col_heading level0 col8" >Gcaps</th>
      <th id="T_208b1_level0_col9" class="col_heading level0 col9" >Gfrags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_208b1_level0_row0" class="row_heading level0 row0" >tiger-duck-beach</th>
      <td id="T_208b1_row0_col0" class="data row0 col0" >0.67</td>
      <td id="T_208b1_row0_col1" class="data row0 col1" >3.64</td>
      <td id="T_208b1_row0_col2" class="data row0 col2" >0.55</td>
      <td id="T_208b1_row0_col3" class="data row0 col3" >0.18</td>
      <td id="T_208b1_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_208b1_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_208b1_row0_col6" class="data row0 col6" >0.79</td>
      <td id="T_208b1_row0_col7" class="data row0 col7" >0.06</td>
      <td id="T_208b1_row0_col8" class="data row0 col8" >0.18</td>
      <td id="T_208b1_row0_col9" class="data row0 col9" >10.85</td>
    </tr>
    <tr>
      <th id="T_208b1_level0_row1" class="row_heading level0 row1" >parc-des-pierrettes</th>
      <td id="T_208b1_row1_col0" class="data row1 col0" >0.08</td>
      <td id="T_208b1_row1_col1" class="data row1 col1" >1.03</td>
      <td id="T_208b1_row1_col2" class="data row1 col2" >0.14</td>
      <td id="T_208b1_row1_col3" class="data row1 col3" >0.04</td>
      <td id="T_208b1_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_208b1_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_208b1_row1_col6" class="data row1 col6" >0.24</td>
      <td id="T_208b1_row1_col7" class="data row1 col7" >0.02</td>
      <td id="T_208b1_row1_col8" class="data row1 col8" >0.24</td>
      <td id="T_208b1_row1_col9" class="data row1 col9" >5.40</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="id1">
<h2><span class="section-number">3.5. </span>Survey results October 5, 2023 Saint Sulpice<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<p>After the particpants completed the forms, surveys were conducted at three beaches within the city limits of Saint Sulpice. Only the forms for two beaches were returned.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_46124 tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_46124 tr:nth-child(odd) {
  background: #FFF;
}
#T_46124 tr {
  font-size: 14px;
  padding: 12px;
}
#T_46124 th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_46124 caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_46124">
  <caption>Table 6: The survey results of the objects of interest on October 5, 2023 in pieces per meter</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_46124_level0_col0" class="col_heading level0 col0" >G112</th>
      <th id="T_46124_level0_col1" class="col_heading level0 col1" >G27</th>
      <th id="T_46124_level0_col2" class="col_heading level0 col2" >G30</th>
      <th id="T_46124_level0_col3" class="col_heading level0 col3" >G32</th>
      <th id="T_46124_level0_col4" class="col_heading level0 col4" >G67</th>
      <th id="T_46124_level0_col5" class="col_heading level0 col5" >G70</th>
      <th id="T_46124_level0_col6" class="col_heading level0 col6" >G95</th>
      <th id="T_46124_level0_col7" class="col_heading level0 col7" >G96</th>
      <th id="T_46124_level0_col8" class="col_heading level0 col8" >Gcaps</th>
      <th id="T_46124_level0_col9" class="col_heading level0 col9" >Gfrags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_46124_level0_row0" class="row_heading level0 row0" >tiger-duck-beach</th>
      <td id="T_46124_row0_col0" class="data row0 col0" >0.67</td>
      <td id="T_46124_row0_col1" class="data row0 col1" >3.64</td>
      <td id="T_46124_row0_col2" class="data row0 col2" >0.55</td>
      <td id="T_46124_row0_col3" class="data row0 col3" >0.18</td>
      <td id="T_46124_row0_col4" class="data row0 col4" >0.00</td>
      <td id="T_46124_row0_col5" class="data row0 col5" >0.00</td>
      <td id="T_46124_row0_col6" class="data row0 col6" >0.79</td>
      <td id="T_46124_row0_col7" class="data row0 col7" >0.06</td>
      <td id="T_46124_row0_col8" class="data row0 col8" >0.18</td>
      <td id="T_46124_row0_col9" class="data row0 col9" >10.85</td>
    </tr>
    <tr>
      <th id="T_46124_level0_row1" class="row_heading level0 row1" >parc-des-pierrettes</th>
      <td id="T_46124_row1_col0" class="data row1 col0" >0.08</td>
      <td id="T_46124_row1_col1" class="data row1 col1" >1.03</td>
      <td id="T_46124_row1_col2" class="data row1 col2" >0.14</td>
      <td id="T_46124_row1_col3" class="data row1 col3" >0.04</td>
      <td id="T_46124_row1_col4" class="data row1 col4" >0.00</td>
      <td id="T_46124_row1_col5" class="data row1 col5" >0.00</td>
      <td id="T_46124_row1_col6" class="data row1 col6" >0.24</td>
      <td id="T_46124_row1_col7" class="data row1 col7" >0.02</td>
      <td id="T_46124_row1_col8" class="data row1 col8" >0.24</td>
      <td id="T_46124_row1_col9" class="data row1 col9" >5.40</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="results-estimated-found-and-predicted">
<h2><span class="section-number">3.6. </span>Results: Estimated, found and predicted<a class="headerlink" href="#results-estimated-found-and-predicted" title="Permalink to this heading">#</a></h2>
<p>It appears that both the participants and the model underestimated the amount of plastic fragments. Recall that the participants were given the cumulative results for these objects, table 1.</p>
<div class="cell tag_remove-input docutils container">
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Figure 3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><img alt="_images/5f56302bedbd28c12ef38d5cf2f3c7abb0bd6ee7496fb1c9f71718a65c2dfa91.png" src="_images/5f56302bedbd28c12ef38d5cf2f3c7abb0bd6ee7496fb1c9f71718a65c2dfa91.png" /></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Figure 3: <em>The Estimated, observed and predicted results for the objects of interest, Saint Sulpice October 5, 2023</em></p></td>
</tr>
</tbody>
</table>
<p>The predicted values from the model were all closer than the predicted values by the participants, table 7. In total 17/20 oserved results fell within the 96% probability interval predicted by the model, 7/20 fell within the 50% probability interval, Annex: table 8. Of the objects not within the 96% interval there is:</p>
<ol class="arabic simple">
<li><p>Fragmented plastics, (both surveys)</p></li>
<li><p>Cigarette ends</p></li>
<li><p>Toys and party favors</p></li>
</ol>
<p>From figure 4 we can see how close the predictions and the estimates are.</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Figure 4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><img alt="_images/a17b221991c8fe26eb7f6c3320065aff20d9460441e62fe8c1e0623ccdeb4808.png" src="_images/a17b221991c8fe26eb7f6c3320065aff20d9460441e62fe8c1e0623ccdeb4808.png" /></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Figure 4: <em>The root of the squared difference between observed estimated and predicted, Saint Sulpice October 5, 2023</em></p></td>
</tr>
</tbody>
</table>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_a043f tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_a043f tr:nth-child(odd) {
  background: #FFF;
}
#T_a043f tr {
  font-size: 14px;
  padding: 12px;
}
#T_a043f th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_a043f caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_a043f">
  <caption>Table 7: The average difference between what was found and the estimates of the participants and what was predicted using the empirical Bayes method</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_a043f_level0_col0" class="col_heading level0 col0" colspan="2">average</th>
    </tr>
    <tr>
      <th class="index_name level1" >source</th>
      <th id="T_a043f_level1_col0" class="col_heading level1 col0" >difference² of estimated</th>
      <th id="T_a043f_level1_col1" class="col_heading level1 col1" >difference² of predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a043f_level0_row0" class="row_heading level0 row0" >G112</th>
      <td id="T_a043f_row0_col0" class="data row0 col0" >1.07</td>
      <td id="T_a043f_row0_col1" class="data row0 col1" >0.29</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row1" class="row_heading level0 row1" >G27</th>
      <td id="T_a043f_row1_col0" class="data row1 col0" >2.32</td>
      <td id="T_a043f_row1_col1" class="data row1 col1" >1.89</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row2" class="row_heading level0 row2" >G30</th>
      <td id="T_a043f_row2_col0" class="data row2 col0" >0.31</td>
      <td id="T_a043f_row2_col1" class="data row2 col1" >0.21</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row3" class="row_heading level0 row3" >G32</th>
      <td id="T_a043f_row3_col0" class="data row3 col0" >0.11</td>
      <td id="T_a043f_row3_col1" class="data row3 col1" >0.07</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row4" class="row_heading level0 row4" >G67</th>
      <td id="T_a043f_row4_col0" class="data row4 col0" >0.26</td>
      <td id="T_a043f_row4_col1" class="data row4 col1" >0.16</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row5" class="row_heading level0 row5" >G70</th>
      <td id="T_a043f_row5_col0" class="data row5 col0" >0.03</td>
      <td id="T_a043f_row5_col1" class="data row5 col1" >0.00</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row6" class="row_heading level0 row6" >G95</th>
      <td id="T_a043f_row6_col0" class="data row6 col0" >0.52</td>
      <td id="T_a043f_row6_col1" class="data row6 col1" >0.27</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row7" class="row_heading level0 row7" >G96</th>
      <td id="T_a043f_row7_col0" class="data row7 col0" >0.15</td>
      <td id="T_a043f_row7_col1" class="data row7 col1" >0.05</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row8" class="row_heading level0 row8" >Gcaps</th>
      <td id="T_a043f_row8_col0" class="data row8 col0" >0.26</td>
      <td id="T_a043f_row8_col1" class="data row8 col1" >0.07</td>
    </tr>
    <tr>
      <th id="T_a043f_level0_row9" class="row_heading level0 row9" >Gfrags</th>
      <td id="T_a043f_row9_col0" class="data row9 col0" >8.11</td>
      <td id="T_a043f_row9_col1" class="data row9 col1" >7.71</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="cell tag_remove-input docutils container">
</div>
</div>
<div class="section" id="discussion">
<h2><span class="section-number">3.7. </span>Discussion<a class="headerlink" href="#discussion" title="Permalink to this heading">#</a></h2>
<p>There were three surveys completed, two are reflected in the report. Neither the the estimated amounts from the particpants or the survey results were returned for the third survey. On location the participants were shown examples of the objects of interest. The limits of the survey area were defined and the survey was conducted in small groups. The objects found on the beach were separated and counted on location. The identification or the differentiation of fragmented plastics and foams remains difficult for new participants. This is in one part due to the constraints of time and on the other to the lack of experience. Many times what initially appears to be an unidentifiable piece of plastic can actually be placed in a more precise category with reasonable certainty. The new paritcipants do not have the time to consider other possibilities or simply are unaware of the original use of the item in questions.</p>
<p>Many participants used the previous aggregated survey results to estimate the expected values. This reasonable strategy produced estimates that were very close to the predicted survey results. This suggests that previous survey results can serve as an indicator for expected results as long as the objects have been identified correctly and consistently in the past. Yet, from table 7 it is clear that predictions are more accurate when a formal method is used.</p>
</div>
<div class="section" id="conclusions">
<h2><span class="section-number">3.8. </span>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this heading">#</a></h2>
<p>From this experience we conclude that the expected values in table 4 do represent probable beach-litter densities in the region.</p>
<div class="section" id="next-steps">
<h3><span class="section-number">3.8.1. </span>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h3>
<p>Make hierarchical model</p>
</div>
</div>
<div class="section" id="annex">
<h2><span class="section-number">3.9. </span>Annex<a class="headerlink" href="#annex" title="Permalink to this heading">#</a></h2>
<div class="section" id="the-accuracy-of-the-predictions-in-relation-to-what-was-found">
<h3><span class="section-number">3.9.1. </span>The accuracy of the predictions in relation to what was found<a class="headerlink" href="#the-accuracy-of-the-predictions-in-relation-to-what-was-found" title="Permalink to this heading">#</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_368fb tr:nth-child(even) {
  background-color: rgba(139, 69, 19, 0.08);
}
#T_368fb tr:nth-child(odd) {
  background: #FFF;
}
#T_368fb tr {
  font-size: 14px;
  padding: 12px;
}
#T_368fb th:nth-child(1) {
  background-color: #FFF;
  text-align: right;
}
#T_368fb caption {
  font-size: 14px;
  font-style: italic;
  caption-side: bottom;
  text-align: left;
  margin-top: 10px;
}
</style>
<table id="T_368fb">
  <caption>Table 8: Whether the observed value fell within the predicted interval</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_368fb_level0_col0" class="col_heading level0 col0" >object</th>
      <th id="T_368fb_level0_col1" class="col_heading level0 col1" >within 96% HDI</th>
      <th id="T_368fb_level0_col2" class="col_heading level0 col2" >within 50% HDI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_368fb_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_368fb_row0_col0" class="data row0 col0" >G112</td>
      <td id="T_368fb_row0_col1" class="data row0 col1" >True</td>
      <td id="T_368fb_row0_col2" class="data row0 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_368fb_row1_col0" class="data row1 col0" >G27</td>
      <td id="T_368fb_row1_col1" class="data row1 col1" >False</td>
      <td id="T_368fb_row1_col2" class="data row1 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_368fb_row2_col0" class="data row2 col0" >G30</td>
      <td id="T_368fb_row2_col1" class="data row2 col1" >True</td>
      <td id="T_368fb_row2_col2" class="data row2 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_368fb_row3_col0" class="data row3 col0" >G32</td>
      <td id="T_368fb_row3_col1" class="data row3 col1" >False</td>
      <td id="T_368fb_row3_col2" class="data row3 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row4" class="row_heading level0 row4" >4</th>
      <td id="T_368fb_row4_col0" class="data row4 col0" >G67</td>
      <td id="T_368fb_row4_col1" class="data row4 col1" >True</td>
      <td id="T_368fb_row4_col2" class="data row4 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row5" class="row_heading level0 row5" >5</th>
      <td id="T_368fb_row5_col0" class="data row5 col0" >G70</td>
      <td id="T_368fb_row5_col1" class="data row5 col1" >True</td>
      <td id="T_368fb_row5_col2" class="data row5 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row6" class="row_heading level0 row6" >6</th>
      <td id="T_368fb_row6_col0" class="data row6 col0" >G95</td>
      <td id="T_368fb_row6_col1" class="data row6 col1" >True</td>
      <td id="T_368fb_row6_col2" class="data row6 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row7" class="row_heading level0 row7" >7</th>
      <td id="T_368fb_row7_col0" class="data row7 col0" >G96</td>
      <td id="T_368fb_row7_col1" class="data row7 col1" >True</td>
      <td id="T_368fb_row7_col2" class="data row7 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row8" class="row_heading level0 row8" >8</th>
      <td id="T_368fb_row8_col0" class="data row8 col0" >Gcaps</td>
      <td id="T_368fb_row8_col1" class="data row8 col1" >True</td>
      <td id="T_368fb_row8_col2" class="data row8 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row9" class="row_heading level0 row9" >9</th>
      <td id="T_368fb_row9_col0" class="data row9 col0" >Gfrags</td>
      <td id="T_368fb_row9_col1" class="data row9 col1" >False</td>
      <td id="T_368fb_row9_col2" class="data row9 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row10" class="row_heading level0 row10" >0</th>
      <td id="T_368fb_row10_col0" class="data row10 col0" >G112</td>
      <td id="T_368fb_row10_col1" class="data row10 col1" >True</td>
      <td id="T_368fb_row10_col2" class="data row10 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row11" class="row_heading level0 row11" >1</th>
      <td id="T_368fb_row11_col0" class="data row11 col0" >G27</td>
      <td id="T_368fb_row11_col1" class="data row11 col1" >True</td>
      <td id="T_368fb_row11_col2" class="data row11 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row12" class="row_heading level0 row12" >2</th>
      <td id="T_368fb_row12_col0" class="data row12 col0" >G30</td>
      <td id="T_368fb_row12_col1" class="data row12 col1" >True</td>
      <td id="T_368fb_row12_col2" class="data row12 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row13" class="row_heading level0 row13" >3</th>
      <td id="T_368fb_row13_col0" class="data row13 col0" >G32</td>
      <td id="T_368fb_row13_col1" class="data row13 col1" >True</td>
      <td id="T_368fb_row13_col2" class="data row13 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row14" class="row_heading level0 row14" >4</th>
      <td id="T_368fb_row14_col0" class="data row14 col0" >G67</td>
      <td id="T_368fb_row14_col1" class="data row14 col1" >True</td>
      <td id="T_368fb_row14_col2" class="data row14 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row15" class="row_heading level0 row15" >5</th>
      <td id="T_368fb_row15_col0" class="data row15 col0" >G70</td>
      <td id="T_368fb_row15_col1" class="data row15 col1" >True</td>
      <td id="T_368fb_row15_col2" class="data row15 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row16" class="row_heading level0 row16" >6</th>
      <td id="T_368fb_row16_col0" class="data row16 col0" >G95</td>
      <td id="T_368fb_row16_col1" class="data row16 col1" >True</td>
      <td id="T_368fb_row16_col2" class="data row16 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row17" class="row_heading level0 row17" >7</th>
      <td id="T_368fb_row17_col0" class="data row17 col0" >G96</td>
      <td id="T_368fb_row17_col1" class="data row17 col1" >True</td>
      <td id="T_368fb_row17_col2" class="data row17 col2" >True</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row18" class="row_heading level0 row18" >8</th>
      <td id="T_368fb_row18_col0" class="data row18 col0" >Gcaps</td>
      <td id="T_368fb_row18_col1" class="data row18 col1" >True</td>
      <td id="T_368fb_row18_col2" class="data row18 col2" >False</td>
    </tr>
    <tr>
      <th id="T_368fb_level0_row19" class="row_heading level0 row19" >9</th>
      <td id="T_368fb_row19_col0" class="data row19 col0" >Gfrags</td>
      <td id="T_368fb_row19_col1" class="data row19 col1" >False</td>
      <td id="T_368fb_row19_col2" class="data row19 col2" >False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>within 96% HDI    0.80
within 50% HDI    0.35
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>within 96% HDI    16
within 50% HDI     7
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<p>This script updated 21/03/2024 in Biel, CH</p>
<p>❤️ <strong>what you do everyday:</strong> <em>analyst at hammerdirt</em></p>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Git repo: https://github.com/hammerdirt-analyst/solid-waste-team.git

Git branch: review

pandas    : 2.0.3
matplotlib: 3.7.1
seaborn   : 0.12.2
numpy     : 1.25.2
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="grid_approximation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Empirical Bayes: grid approximations</p>
      </div>
    </a>
    <a class="right-next"
       href="plastic_shotgun_wadding.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Plastic shotgun shell wadding</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-solid-waste-experience">3.1. The solid waste experience</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#observations-and-interpretations">3.1.1. Observations and interpretations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-unique-problem-and-a-unique-solution">3.1.2. A unique problem and a unique solution</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reducing-dimensionality-find-the-most-common">3.1.3. Reducing dimensionality: find the most common</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assessing-the-environment">3.1.4. Assessing the environment</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semester-project">3.1.5. Semester project</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-previous-results">3.2. Summary of previous results</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-survey-results-saint-sulpice">3.3. Expected survey results Saint Sulpice</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#predicted-values-using-empirical-bayes-method">3.3.1. Predicted values using empirical Bayes method</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estimates-from-participants">3.3.2. Estimates from participants</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#survey-results-october-5-2023-saint-sulpice">3.4. Survey results October 5, 2023 Saint Sulpice</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">3.5. Survey results October 5, 2023 Saint Sulpice</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#results-estimated-found-and-predicted">3.6. Results: Estimated, found and predicted</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion">3.7. Discussion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusions">3.8. Conclusions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">3.8.1. Next steps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#annex">3.9. Annex</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-accuracy-of-the-predictions-in-relation-to-what-was-found">3.9.1. The accuracy of the predictions in relation to what was found</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By All
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
   hammerdirt 2023
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>